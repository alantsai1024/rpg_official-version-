function Walk() {
    if (Battle == 0) {
        if (LastDirection == 0) {
            animation.runImageAnimation(
                Hero,
                [img`
                . . . . . . f f f f . . . . . . 
                . . . . f f e e e e f f . . . . 
                . . . f e e e f f e e e f . . . 
                . . f f f f f 2 2 f f f f f . . 
                . . f f e 2 e 2 2 e 2 e f f . . 
                . . f e 2 f 2 f f 2 f 2 e f . . 
                . . f f f 2 2 e e 2 2 f f f . . 
                . f f e f 2 f e e f 2 f e f f . 
                . f e e f f e e e e f e e e f . 
                . . f e e e e e e e e e e f . . 
                . . . f e e e e e e e e f . . . 
                . . e 4 f f f f f f f f 4 e . . 
                . . 4 d f 2 2 2 2 2 2 f d 4 . . 
                . . 4 4 f 4 4 4 4 4 4 f 4 4 . . 
                . . . . . f f f f f f . . . . . 
                . . . . . f f . . f f . . . . . 
                `, img`
                . . . . . . . . . . . . . . . . 
                . . . . . . f f f f . . . . . . 
                . . . . f f e e e e f f . . . . 
                . . . f e e e f f e e e f . . . 
                . . . f f f f 2 2 f f f f . . . 
                . . f f e 2 e 2 2 e 2 e f f . . 
                . . f e 2 f 2 f f f 2 f e f . . 
                . . f f f 2 f e e 2 2 f f f . . 
                . . f e 2 f f e e 2 f e e f . . 
                . f f e f f e e e f e e e f f . 
                . f f e e e e e e e e e e f f . 
                . . . f e e e e e e e e f . . . 
                . . . e f f f f f f f f 4 e . . 
                . . . 4 f 2 2 2 2 2 e d d 4 . . 
                . . . e f f f f f f e e 4 . . . 
                . . . . f f f . . . . . . . . . 
                `, img`
                . . . . . . f f f f . . . . . . 
                . . . . f f e e e e f f . . . . 
                . . . f e e e f f e e e f . . . 
                . . f f f f f 2 2 f f f f f . . 
                . . f f e 2 e 2 2 e 2 e f f . . 
                . . f e 2 f 2 f f 2 f 2 e f . . 
                . . f f f 2 2 e e 2 2 f f f . . 
                . f f e f 2 f e e f 2 f e f f . 
                . f e e f f e e e e f e e e f . 
                . . f e e e e e e e e e e f . . 
                . . . f e e e e e e e e f . . . 
                . . e 4 f f f f f f f f 4 e . . 
                . . 4 d f 2 2 2 2 2 2 f d 4 . . 
                . . 4 4 f 4 4 4 4 4 4 f 4 4 . . 
                . . . . . f f f f f f . . . . . 
                . . . . . f f . . f f . . . . . 
                `, img`
                . . . . . . . . . . . . . . . . 
                . . . . . . f f f f . . . . . . 
                . . . . f f e e e e f f . . . . 
                . . . f e e e f f e e e f . . . 
                . . . f f f f 2 2 f f f f . . . 
                . . f f e 2 e 2 2 e 2 e f f . . 
                . . f e f 2 f f f 2 f 2 e f . . 
                . . f f f 2 2 e e f 2 f f f . . 
                . . f e e f 2 e e f f 2 e f . . 
                . f f e e e f e e e f f e f f . 
                . f f e e e e e e e e e e f f . 
                . . . f e e e e e e e e f . . . 
                . . e 4 f f f f f f f f e . . . 
                . . 4 d d e 2 2 2 2 2 f 4 . . . 
                . . . 4 e e f f f f f f e . . . 
                . . . . . . . . . f f f . . . . 
                `],
                200,
                true
            )
        }
        if (LastDirection == 1) {
            animation.runImageAnimation(
                Hero,
                [img`
                . . . . . . f f f f f f . . . . 
                . . . . f f e e e e f 2 f . . . 
                . . . f f e e e e f 2 2 2 f . . 
                . . . f e e e f f e e e e f . . 
                . . . f f f f e e 2 2 2 2 e f . 
                . . . f e 2 2 2 f f f f e 2 f . 
                . . f f f f f f f e e e f f f . 
                . . f f e 4 4 e b f 4 4 e e f . 
                . . f e e 4 d 4 1 f d d e f . . 
                . . . f e e e 4 d d d d f . . . 
                . . . . f f e e 4 4 4 e f . . . 
                . . . . . 4 d d e 2 2 2 f . . . 
                . . . . . e d d e 2 2 2 f . . . 
                . . . . . f e e f 4 5 5 f . . . 
                . . . . . . f f f f f f . . . . 
                . . . . . . . f f f . . . . . . 
                `, img`
                . . . . . . . . . . . . . . . . 
                . . . . . . f f f f f f . . . . 
                . . . . f f e e e e f 2 f . . . 
                . . . f f e e e e f 2 2 2 f . . 
                . . . f e e e f f e e e e f . . 
                . . . f f f f e e 2 2 2 2 e f . 
                . . . f e 2 2 2 f f f f e 2 f . 
                . . f f f f f f f e e e f f f . 
                . . f f e 4 4 e b f 4 4 e e f . 
                . . f e e 4 d 4 1 f d d e f . . 
                . . . f e e e e e d d d f . . . 
                . . . . . f 4 d d e 4 e f . . . 
                . . . . . f e d d e 2 2 f . . . 
                . . . . f f f e e f 5 5 f f . . 
                . . . . f f f f f f f f f f . . 
                . . . . . f f . . . f f f . . . 
                `, img`
                . . . . . . f f f f f f . . . . 
                . . . . f f e e e e f 2 f . . . 
                . . . f f e e e e f 2 2 2 f . . 
                . . . f e e e f f e e e e f . . 
                . . . f f f f e e 2 2 2 2 e f . 
                . . . f e 2 2 2 f f f f e 2 f . 
                . . f f f f f f f e e e f f f . 
                . . f f e 4 4 e b f 4 4 e e f . 
                . . f e e 4 d 4 1 f d d e f . . 
                . . . f e e e 4 d d d d f . . . 
                . . . . f f e e 4 4 4 e f . . . 
                . . . . . 4 d d e 2 2 2 f . . . 
                . . . . . e d d e 2 2 2 f . . . 
                . . . . . f e e f 4 5 5 f . . . 
                . . . . . . f f f f f f . . . . 
                . . . . . . . f f f . . . . . . 
                `, img`
                . . . . . . . . . . . . . . . . 
                . . . . . . f f f f f f . . . . 
                . . . . f f e e e e f 2 f . . . 
                . . . f f e e e e f 2 2 2 f . . 
                . . . f e e e f f e e e e f . . 
                . . . f f f f e e 2 2 2 2 e f . 
                . . . f e 2 2 2 f f f f e 2 f . 
                . . f f f f f f f e e e f f f . 
                . . f f e 4 4 e b f 4 4 e e f . 
                . . f e e 4 d 4 1 f d d e f . . 
                . . . f e e e 4 d d d d f . . . 
                . . . . 4 d d e 4 4 4 e f . . . 
                . . . . e d d e 2 2 2 2 f . . . 
                . . . . f e e f 4 4 5 5 f f . . 
                . . . . f f f f f f f f f f . . 
                . . . . . f f . . . f f f . . . 
                `],
                200,
                true
            )
        }
        if (LastDirection == 2) {
            animation.runImageAnimation(
                Hero,
                [img`
                . . . . . . f f f f . . . . . . 
                . . . . f f f 2 2 f f f . . . . 
                . . . f f f 2 2 2 2 f f f . . . 
                . . f f f e e e e e e f f f . . 
                . . f f e 2 2 2 2 2 2 e e f . . 
                . . f e 2 f f f f f f 2 e f . . 
                . . f f f f e e e e f f f f . . 
                . f f e f b f 4 4 f b f e f f . 
                . f e e 4 1 f d d f 1 4 e e f . 
                . . f e e d d d d d d e e f . . 
                . . . f e e 4 4 4 4 e e f . . . 
                . . e 4 f 2 2 2 2 2 2 f 4 e . . 
                . . 4 d f 2 2 2 2 2 2 f d 4 . . 
                . . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
                . . . . . f f f f f f . . . . . 
                . . . . . f f . . f f . . . . . 
                `, img`
                . . . . . . . . . . . . . . . . 
                . . . . . . f f f f . . . . . . 
                . . . . f f f 2 2 f f f . . . . 
                . . . f f f 2 2 2 2 f f f . . . 
                . . f f f e e e e e e f f f . . 
                . . f f e 2 2 2 2 2 2 e e f . . 
                . f f e 2 f f f f f f 2 e f f . 
                . f f f f f e e e e f f f f f . 
                . . f e f b f 4 4 f b f e f . . 
                . . f e 4 1 f d d f 1 4 e f . . 
                . . . f e 4 d d d d 4 e f e . . 
                . . f e f 2 2 2 2 e d d 4 e . . 
                . . e 4 f 2 2 2 2 e d d e . . . 
                . . . . f 4 4 5 5 f e e . . . . 
                . . . . f f f f f f f . . . . . 
                . . . . f f f . . . . . . . . . 
                `, img`
                . . . . . . f f f f . . . . . . 
                . . . . f f f 2 2 f f f . . . . 
                . . . f f f 2 2 2 2 f f f . . . 
                . . f f f e e e e e e f f f . . 
                . . f f e 2 2 2 2 2 2 e e f . . 
                . . f e 2 f f f f f f 2 e f . . 
                . . f f f f e e e e f f f f . . 
                . f f e f b f 4 4 f b f e f f . 
                . f e e 4 1 f d d f 1 4 e e f . 
                . . f e e d d d d d d e e f . . 
                . . . f e e 4 4 4 4 e e f . . . 
                . . e 4 f 2 2 2 2 2 2 f 4 e . . 
                . . 4 d f 2 2 2 2 2 2 f d 4 . . 
                . . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
                . . . . . f f f f f f . . . . . 
                . . . . . f f . . f f . . . . . 
                `, img`
                . . . . . . . . . . . . . . . . 
                . . . . . . f f f f . . . . . . 
                . . . . f f f 2 2 f f f . . . . 
                . . . f f f 2 2 2 2 f f f . . . 
                . . f f f e e e e e e f f f . . 
                . . f e e 2 2 2 2 2 2 e f f . . 
                . f f e 2 f f f f f f 2 e f f . 
                . f f f f f e e e e f f f f f . 
                . . f e f b f 4 4 f b f e f . . 
                . . f e 4 1 f d d f 1 4 e f . . 
                . . e f e 4 d d d d 4 e f . . . 
                . . e 4 d d e 2 2 2 2 f e f . . 
                . . . e d d e 2 2 2 2 f 4 e . . 
                . . . . e e f 5 5 4 4 f . . . . 
                . . . . . f f f f f f f . . . . 
                . . . . . . . . . f f f . . . . 
                `],
                200,
                true
            )
        }
        if (LastDirection == 3) {
            animation.runImageAnimation(
                Hero,
                [img`
                . . . . f f f f f f . . . . . . 
                . . . f 2 f e e e e f f . . . . 
                . . f 2 2 2 f e e e e f f . . . 
                . . f e e e e f f e e e f . . . 
                . f e 2 2 2 2 e e f f f f . . . 
                . f 2 e f f f f 2 2 2 e f . . . 
                . f f f e e e f f f f f f f . . 
                . f e e 4 4 f b e 4 4 e f f . . 
                . . f e d d f 1 4 d 4 e e f . . 
                . . . f d d d d 4 e e e f . . . 
                . . . f e 4 4 4 e e f f . . . . 
                . . . f 2 2 2 e d d 4 . . . . . 
                . . . f 2 2 2 e d d e . . . . . 
                . . . f 5 5 4 f e e f . . . . . 
                . . . . f f f f f f . . . . . . 
                . . . . . . f f f . . . . . . . 
                `, img`
                . . . . . . . . . . . . . . . . 
                . . . . f f f f f f . . . . . . 
                . . . f 2 f e e e e f f . . . . 
                . . f 2 2 2 f e e e e f f . . . 
                . . f e e e e f f e e e f . . . 
                . f e 2 2 2 2 e e f f f f . . . 
                . f 2 e f f f f 2 2 2 e f . . . 
                . f f f e e e f f f f f f f . . 
                . f e e 4 4 f b e 4 4 e f f . . 
                . . f e d d f 1 4 d 4 e e f . . 
                . . . f d d d e e e e e f . . . 
                . . . f e 4 e d d 4 f . . . . . 
                . . . f 2 2 e d d e f . . . . . 
                . . f f 5 5 f e e f f f . . . . 
                . . f f f f f f f f f f . . . . 
                . . . f f f . . . f f . . . . . 
                `, img`
                . . . . f f f f f f . . . . . . 
                . . . f 2 f e e e e f f . . . . 
                . . f 2 2 2 f e e e e f f . . . 
                . . f e e e e f f e e e f . . . 
                . f e 2 2 2 2 e e f f f f . . . 
                . f 2 e f f f f 2 2 2 e f . . . 
                . f f f e e e f f f f f f f . . 
                . f e e 4 4 f b e 4 4 e f f . . 
                . . f e d d f 1 4 d 4 e e f . . 
                . . . f d d d d 4 e e e f . . . 
                . . . f e 4 4 4 e e f f . . . . 
                . . . f 2 2 2 e d d 4 . . . . . 
                . . . f 2 2 2 e d d e . . . . . 
                . . . f 5 5 4 f e e f . . . . . 
                . . . . f f f f f f . . . . . . 
                . . . . . . f f f . . . . . . . 
                `, img`
                . . . . . . . . . . . . . . . . 
                . . . . f f f f f f . . . . . . 
                . . . f 2 f e e e e f f . . . . 
                . . f 2 2 2 f e e e e f f . . . 
                . . f e e e e f f e e e f . . . 
                . f e 2 2 2 2 e e f f f f . . . 
                . f 2 e f f f f 2 2 2 e f . . . 
                . f f f e e e f f f f f f f . . 
                . f e e 4 4 f b e 4 4 e f f . . 
                . . f e d d f 1 4 d 4 e e f . . 
                . . . f d d d d 4 e e e f . . . 
                . . . f e 4 4 4 e d d 4 . . . . 
                . . . f 2 2 2 2 e d d e . . . . 
                . . f f 5 5 4 4 f e e f . . . . 
                . . f f f f f f f f f f . . . . 
                . . . f f f . . . f f . . . . . 
                `],
                200,
                true
            )
        }
    } else if (Battle == 1) {
        if (LastDirection == 0) {
            animation.runImageAnimation(
                Hero,
                [img`
                ........................
                ..............ffffff....
                .............f2feeeeff..
                ............f222feeeeff.
                .......cc...feeeeffeeef.
                .......cdc.fe2222eeffff.
                .......cddcf2effff222ef.
                ........cddcffeeefffffff
                .........cddce44fbe44eff
                ..........cdceddf14d4eef
                ..........cccdeddd4eeef.
                ...........edd4e44eeff..
                ............ee442222f...
                .............f2e2222f...
                .............f554444f...
                ..............ffffff....
                ................fff.....
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `, img`
                ........................
                ..............fff.......
                .............f2fffff....
                ...........ff22eeeeeff..
                ..........ff222eeeeeeff.
                ..........feeeefffeeeef.
                .........fe2222eeefffff.
                .........f2efffff222efff
                ..cc.....fffeeefffffffff
                ..cdcc...fee44fbbe44efef
                ..ccddcc..feddfbb4d4eef.
                ....cdddceefddddd4eeef..
                .....ccdcddee2222222f...
                ......cccdd44e544444f...
                .........eeeeffffffff...
                .............ff...fff...
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `],
                350,
                true
            )
        }
        if (LastDirection == 1) {
            animation.runImageAnimation(
                Hero,
                [img`
                ........................
                ..............ffffff....
                .............f2feeeeff..
                ............f222feeeeff.
                .......cc...feeeeffeeef.
                .......cdc.fe2222eeffff.
                .......cddcf2effff222ef.
                ........cddcffeeefffffff
                .........cddce44fbe44eff
                ..........cdceddf14d4eef
                ..........cccdeddd4eeef.
                ...........edd4e44eeff..
                ............ee442222f...
                .............f2e2222f...
                .............f554444f...
                ..............ffffff....
                ................fff.....
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `, img`
                ........................
                ..............fff.......
                .............f2fffff....
                ...........ff22eeeeeff..
                ..........ff222eeeeeeff.
                ..........feeeefffeeeef.
                .........fe2222eeefffff.
                .........f2efffff222efff
                ..cc.....fffeeefffffffff
                ..cdcc...fee44fbbe44efef
                ..ccddcc..feddfbb4d4eef.
                ....cdddceefddddd4eeef..
                .....ccdcddee2222222f...
                ......cccdd44e544444f...
                .........eeeeffffffff...
                .............ff...fff...
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `],
                350,
                true
            )
        }
        if (LastDirection == 2) {
            animation.runImageAnimation(
                Hero,
                [img`
                ........................
                ..............ffffff....
                .............f2feeeeff..
                ............f222feeeeff.
                .......cc...feeeeffeeef.
                .......cdc.fe2222eeffff.
                .......cddcf2effff222ef.
                ........cddcffeeefffffff
                .........cddce44fbe44eff
                ..........cdceddf14d4eef
                ..........cccdeddd4eeef.
                ...........edd4e44eeff..
                ............ee442222f...
                .............f2e2222f...
                .............f554444f...
                ..............ffffff....
                ................fff.....
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `, img`
                ........................
                ..............fff.......
                .............f2fffff....
                ...........ff22eeeeeff..
                ..........ff222eeeeeeff.
                ..........feeeefffeeeef.
                .........fe2222eeefffff.
                .........f2efffff222efff
                ..cc.....fffeeefffffffff
                ..cdcc...fee44fbbe44efef
                ..ccddcc..feddfbb4d4eef.
                ....cdddceefddddd4eeef..
                .....ccdcddee2222222f...
                ......cccdd44e544444f...
                .........eeeeffffffff...
                .............ff...fff...
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `],
                350,
                true
            )
        }
        if (LastDirection == 3) {
            animation.runImageAnimation(
                Hero,
                [img`
                ........................
                ..............ffffff....
                .............f2feeeeff..
                ............f222feeeeff.
                .......cc...feeeeffeeef.
                .......cdc.fe2222eeffff.
                .......cddcf2effff222ef.
                ........cddcffeeefffffff
                .........cddce44fbe44eff
                ..........cdceddf14d4eef
                ..........cccdeddd4eeef.
                ...........edd4e44eeff..
                ............ee442222f...
                .............f2e2222f...
                .............f554444f...
                ..............ffffff....
                ................fff.....
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `, img`
                ........................
                ..............fff.......
                .............f2fffff....
                ...........ff22eeeeeff..
                ..........ff222eeeeeeff.
                ..........feeeefffeeeef.
                .........fe2222eeefffff.
                .........f2efffff222efff
                ..cc.....fffeeefffffffff
                ..cdcc...fee44fbbe44efef
                ..ccddcc..feddfbb4d4eef.
                ....cdddceefddddd4eeef..
                .....ccdcddee2222222f...
                ......cccdd44e544444f...
                .........eeeeffffffff...
                .............ff...fff...
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `],
                350,
                true
            )
        }
    } else {

    }
}
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.doorLockedNorth, function (sprite, location) {
    game.gameOver(true)
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    LastDirection = 0
    Walk()
})
function SpeedCreate() {
    HEROspeed = statusbars.create(40, 4, StatusBarKind.Health)
    HEROspeed.value = 0
    HEROspeed.max = 100
    HEROspeed.setLabel("Speed")
    HEROspeed.setColor(5, 1)
    HEROspeed.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    HEROspeed.setPosition(120, 20)
}
function BOSSHPcreate() {
    BOSSHP_1 = statusbars.create(40, 4, StatusBarKind.Health)
    BOSSHP_1.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    BOSSHP_1.max = 540
    BOSSHP_1.value = 540
    BOSSHP_1.setLabel("HP")
    BOSSHP_1.setColor(4, 1)
    BOSSHP_1.setPosition(43, 5)
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Scene != 0) {
        HeroInformation = ["Hero" + "\\n" + "等級:" + Level + "\\n" + "生命值:" + HPvalue + "\\n" + "傷害:" + Damage + "\\n" + "法力:" + SPvalue + "\\n" + "武器:" + CurrentWeapon + "\\n" + "抗性:" + SuperState]
    }
    game.showLongText(HeroInformation, DialogLayout.Full)
})
function Enemy3Speedcreate() {
    EnemySpeed_3 = statusbars.create(40, 4, StatusBarKind.Health)
    EnemySpeed_3.setStatusBarFlag(StatusBarFlag.SmoothTransition, false)
    EnemySpeed_3.value = 0
    EnemySpeed_3.max = 100
    EnemySpeed_3.setLabel("Speed")
    EnemySpeed_3.setColor(2, 1)
    EnemySpeed_3.setPosition(35, 12)
}
function AssessBattle1() {
    if (Battle == 1) {
        if (CurrentEnemy == 1) {
            controller.moveSprite(Hero, 0, 0)
            HPcreate()
            SpeedCreate()
            HeroSPcreate()
            Enemy1HPcreate()
            Enemy1Speedcreate()
            animation.runImageAnimation(
                Hero,
                [img`
                ........................
                ..............ffffff....
                .............f2feeeeff..
                ............f222feeeeff.
                .......cc...feeeeffeeef.
                .......cdc.fe2222eeffff.
                .......cddcf2effff222ef.
                ........cddcffeeefffffff
                .........cddce44fbe44eff
                ..........cdceddf14d4eef
                ..........cccdeddd4eeef.
                ...........edd4e44eeff..
                ............ee442222f...
                .............f2e2222f...
                .............f554444f...
                ..............ffffff....
                ................fff.....
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `, img`
                ........................
                ..............fff.......
                .............f2fffff....
                ...........ff22eeeeeff..
                ..........ff222eeeeeeff.
                ..........feeeefffeeeef.
                .........fe2222eeefffff.
                .........f2efffff222efff
                ..cc.....fffeeefffffffff
                ..cdcc...fee44fbbe44efef
                ..ccddcc..feddfbb4d4eef.
                ....cdddceefddddd4eeef..
                .....ccdcddee2222222f...
                ......cccdd44e544444f...
                .........eeeeffffffff...
                .............ff...fff...
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `],
                350,
                true
            )
            animation.runImageAnimation(
                Enemy1,
                [img`
                . . . . . . c c c c c c . . . . 
                . . . . . c 6 7 7 7 7 6 c . . . 
                . . . . c 7 7 7 7 7 7 7 7 c . . 
                . . . c 6 7 7 7 7 7 7 7 7 6 c . 
                . . . c 7 7 7 c 6 6 6 6 c 7 c . 
                . . . f 7 7 7 6 f 6 6 f 6 7 f . 
                . . . f 7 7 7 7 7 7 7 7 7 7 f . 
                . . c f 6 7 7 c 6 7 7 7 7 f . . 
                . c 7 7 f 6 7 7 c c c c f . . . 
                c 7 7 7 7 f c 6 7 7 7 2 7 c . . 
                c c 6 7 7 6 c f c 7 7 2 7 7 c . 
                . . c 6 6 6 c c f 6 7 1 1 1 1 c 
                . . f 6 6 6 6 c 6 6 1 1 1 1 1 f 
                . . f c 6 6 6 6 6 1 1 1 1 1 6 f 
                . . . f 6 6 6 1 1 1 1 1 1 6 f . 
                . . . . f c c c c c c c c c . . 
                `, img`
                . . . . . . . c c c c c c . . . 
                . . . . . . c 6 7 7 7 7 6 c . . 
                . . . . . c 7 7 7 7 7 7 7 7 c . 
                . . . . c 6 7 7 7 7 7 7 7 7 6 c 
                . . . . c 7 7 7 c 6 6 6 6 c 7 c 
                . . . . f 7 7 7 6 f 6 6 f 6 7 f 
                . . . . f 7 7 7 7 7 7 7 7 7 7 f 
                . . . . f 6 7 7 c 6 7 7 7 7 f . 
                . . c c c f 6 7 7 c c c c f . . 
                . c 7 7 7 c c f 7 7 7 2 6 c . . 
                c 7 7 7 7 6 f c 7 7 2 7 7 6 c . 
                c c c 6 6 6 c 6 6 7 1 1 1 1 c . 
                . . c 6 6 6 6 6 6 1 1 1 1 1 c . 
                . . c 6 6 6 6 6 1 1 1 1 1 6 c . 
                . . c c 6 6 7 1 1 1 1 1 6 c . . 
                . . . c c c c c c c c c c . . . 
                `],
                350,
                true
            )
            tiles.setCurrentTilemap(tilemap`層級2`)
            scene.centerCameraAt(150, 130)
            scaling.scaleToPercent(Hero, 150, ScaleDirection.Uniformly, ScaleAnchor.Middle)
            scaling.scaleToPercent(Enemy1, 150, ScaleDirection.Uniformly, ScaleAnchor.Middle)
            tiles.placeOnTile(Hero, tiles.getTileLocation(12, 8))
            tiles.placeOnTile(Enemy1, tiles.getTileLocation(5, 8))
        }
    }
}
function Enemy2Speedcreate() {
    EnemySpeed_2 = statusbars.create(40, 4, StatusBarKind.Health)
    EnemySpeed_2.setStatusBarFlag(StatusBarFlag.SmoothTransition, false)
    EnemySpeed_2.value = 0
    EnemySpeed_2.max = 100
    EnemySpeed_2.setLabel("Speed")
    EnemySpeed_2.setColor(2, 1)
    EnemySpeed_2.setPosition(35, 12)
}
function RecoverHP() {
    animation.runImageAnimation(
        Hero,
        [img`
        ........333333fffff33333
        ........33...f2feeeeff33
        .........33333333333333.
        .......cc...feeeeffeeef.
        .......c3333e2222eeff333
        .......33dcf2effff222ef3
        .......3cddcffeeeffffff3
        ........3333333333333333
        ..........cdceddf14d4eef
        ..........cccdeddd4eeef.
        .........333dd4e44ee333.
        .......33...ee442222f.33
        .......3.....f2e2222f.33
        ........333333354444f33.
        ..............f333333...
        ................fff.....
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `, img`
        ..............ffffff....
        .............f2feeeeff..
        ........33333222feeee333
        .......33...feeeeffeeef3
        .......3333fe2222eefff33
        .......cddc333333333333.
        ........cddcffeeefffffff
        .........cddce44fbe44eff
        .......3333dceddf14d3333
        .....33...cccdeddd4eeef3
        .....33333.edd4e44eeff.3
        .........333333333333333
        .............f2e2222f...
        .......333333f554444f...
        .......33.....fffff33333
        ........3333333333333333
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `, img`
        ..............ffffff....
        .............f2feeeeff..
        ............f222feeeeff.
        .......cc...feeeeffeeef.
        .......cd333e2222eefff33
        ......3333cf2effff222ef3
        ......3.cddcffeeeffffff3
        ......333cddce44fbe44ef3
        .........3333eddf14d4ee3
        ..........ccc33333333333
        ...........edd4e44eeff..
        ..........33ee442222f...
        ........33...f2e2222333.
        ........3....f554444f..3
        ........333...ffffff...3
        ...........3333333333333
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `, img`
        ..............ffffff....
        .............f2feeeeff..
        ............f222feeeeff.
        .......cc...feeeeffeeef.
        .......cdc.fe2222eeffff.
        .......cddcf2effff222ef.
        ........cddcffeeefffffff
        .........cddce44fbe44eff
        .......333cdceddf14d433f
        ......3...cccdeddd4eee33
        ......33...edd4e44eeff.3
        .......333333e4422233333
        .............3333333f...
        .............f554444f...
        ..........3333ffffff.333
        ..........33333333333333
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `, img`
        ..............ffffff....
        .............f2feeeeff..
        ............f222feeeeff.
        .......cc...feeeeffeeef.
        .......cdc.fe2222eeffff.
        .......cddcf2effff222ef.
        ........cddcffeeefffffff
        .........cddce44fbe44eff
        ..........cdceddf14d4eef
        ..........cccdeddd4eeef.
        ...........edd4e44eeff..
        .........3333e44222233..
        ........33...f2e2222f33.
        ........3....f554444f.33
        ........33333333ffff..33
        ...............3333333..
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `],
        250,
        true
    )
}
function TittleScene() {
    game.showLongText("歡迎來到RPG速通地下城", DialogLayout.Bottom)
    game.showLongText("勝利條件:玩家到指定位置", DialogLayout.Bottom)
    game.showLongText("失敗條件:玩家HP為0", DialogLayout.Bottom)
    game.showLongText("按下B後可以查看玩家訊息", DialogLayout.Bottom)
    game.splash("1F", "難度:簡單")
}
function Enemy1HPcreate() {
    if (Scene == 1) {
        EnemyHP_1 = statusbars.create(40, 4, StatusBarKind.Health)
        EnemyHP_1.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
        EnemyHP_1.max = 80
        EnemyHP_1.value = 80
        EnemyHP_1.setLabel("HP")
        EnemyHP_1.setColor(10, 1)
        EnemyHP_1.setPosition(43, 5)
    }
    if (Scene == 2) {
        EnemyHP_1 = statusbars.create(40, 4, StatusBarKind.Health)
        EnemyHP_1.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
        EnemyHP_1.max = 220
        EnemyHP_1.value = 220
        EnemyHP_1.setLabel("HP")
        EnemyHP_1.setColor(10, 1)
        EnemyHP_1.setPosition(43, 5)
    }
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    LastDirection = 3
    Walk()
})
function AssessBattle3() {
    if (Battle == 1) {
        if (CurrentEnemy == 3) {
            controller.moveSprite(Hero, 0, 0)
            HPcreate()
            SpeedCreate()
            HeroSPcreate()
            Enemy3HPcreate()
            Enemy3Speedcreate()
            animation.runImageAnimation(
                Hero,
                [img`
                ........................
                ..............ffffff....
                .............f2feeeeff..
                ............f222feeeeff.
                .......cc...feeeeffeeef.
                .......cdc.fe2222eeffff.
                .......cddcf2effff222ef.
                ........cddcffeeefffffff
                .........cddce44fbe44eff
                ..........cdceddf14d4eef
                ..........cccdeddd4eeef.
                ...........edd4e44eeff..
                ............ee442222f...
                .............f2e2222f...
                .............f554444f...
                ..............ffffff....
                ................fff.....
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `, img`
                ........................
                ..............fff.......
                .............f2fffff....
                ...........ff22eeeeeff..
                ..........ff222eeeeeeff.
                ..........feeeefffeeeef.
                .........fe2222eeefffff.
                .........f2efffff222efff
                ..cc.....fffeeefffffffff
                ..cdcc...fee44fbbe44efef
                ..ccddcc..feddfbb4d4eef.
                ....cdddceefddddd4eeef..
                .....ccdcddee2222222f...
                ......cccdd44e544444f...
                .........eeeeffffffff...
                .............ff...fff...
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `],
                350,
                true
            )
            animation.runImageAnimation(
                Enemy3,
                [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . c c c c . . . . 
                . . . . . . c c 5 5 5 5 c c . . 
                . . . . . c 5 5 5 5 5 5 5 5 c . 
                . . . . c 5 5 5 f 1 5 5 5 5 5 c 
                . . . c 5 5 5 5 f f 5 5 5 5 5 c 
                . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
                . . c d 5 5 5 5 5 5 b 1 b b c c 
                . . c d d d 5 5 5 5 5 3 3 3 5 c 
                . . c d d d 5 5 5 5 5 5 5 5 b . 
                . c c d d d d b 5 5 c b b c . . 
                c d c d d d d b b 5 5 c b b c . 
                c d d d d d d d d c c c c c c . 
                . c d d d b 5 5 d c c c c . . . 
                . . c c c b 5 5 b c c c c c . . 
                . . . . c b 5 5 d c b b b c . . 
                `, img`
                . . . . . . . c c c c c . . . . 
                . . . . . . c 5 5 5 5 5 c c . . 
                . . . . . c 5 5 f 1 5 5 5 5 c . 
                . . . . c 5 5 5 f f 5 5 5 5 5 c 
                . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
                . . . c 5 5 5 5 5 5 b 1 b b c c 
                . . c d 5 5 5 5 5 5 5 3 3 3 5 c 
                . . c d d d 5 5 5 5 5 3 3 3 5 c 
                . . c d d d 5 5 5 b 5 5 5 5 c . 
                . . c d d d d b 5 5 c b b c . . 
                c c c d d d d b b 5 5 c b b c . 
                c d d d d d d d d c c c c c c . 
                . c d d d b 5 5 b c c c . . . . 
                . . c c c b b 5 5 d c . . . . . 
                . . . . . c c c c c c c . . . . 
                . . . . . . . c b b b c . . . . 
                `, img`
                . . . . . . . c c c c c . . . . 
                . . . . . . c 5 5 5 5 5 c c . . 
                . . . . . c 5 5 f 1 5 5 5 5 c . 
                . . . . c 5 5 5 f f 5 5 5 5 5 c 
                . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
                . . . c 5 5 5 5 5 5 b 1 b b c c 
                . . c d 5 5 5 5 5 5 5 3 3 3 5 c 
                . . c d d d 5 5 5 5 5 5 5 5 5 c 
                . . c d d d 5 5 5 b 5 5 5 5 c . 
                . . c d d d d b 5 5 c b b c . . 
                c c c d d d d b b 5 5 c b b c . 
                c d d d d d d d d c c c c c c . 
                . c c d d d b 5 5 b c c . . . . 
                . . . c c c b b 5 5 d c . . . . 
                . . . . . c c c c c c c . . . . 
                . . . . . . . c b b b c . . . . 
                `, img`
                . . . . . . . c c c c c . . . . 
                . . . . . . c 5 5 5 5 5 c c . . 
                . . . . . c 5 5 f 1 5 5 5 5 c . 
                . . . . c 5 5 5 f f 5 5 5 5 5 c 
                . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
                . . . c 5 5 5 5 5 5 b 1 b b c c 
                . . c d 5 5 5 5 5 5 5 3 3 3 5 c 
                . . c d d d 5 5 5 5 5 5 5 5 5 c 
                . . c d d d 5 5 5 b 5 5 5 5 c . 
                . . c d d d d b 5 5 c b b c . . 
                . c c d d d d b b 5 5 c b b c . 
                c c d d d d d d b b c c c c c . 
                c d d d d d 5 5 b 5 5 c c . . . 
                c c c c c c b b 5 5 b c . . . . 
                . . . . . . c c c c c c . . . . 
                . . . . . . c b b b c . . . . . 
                `, img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . c c c c . . . . 
                . . . . . . c c 5 5 5 5 c c . . 
                . . . . . c 5 5 5 5 5 5 5 5 c . 
                . . . . c 5 5 5 f 1 5 5 5 5 5 c 
                . . . c 5 5 5 5 f f 5 5 5 5 5 c 
                . . . c 5 5 5 5 5 5 b 1 b b c c 
                . . c d 5 5 5 5 5 5 b b 3 3 c c 
                . . c d d d 5 5 5 5 5 3 3 3 5 c 
                . . c d d d 5 5 5 5 5 5 5 5 b . 
                . . c d d d d b 5 5 c b b c . . 
                c c c d d d d b b 5 5 c b b c . 
                c d d d d d d d d c c c c c c . 
                c c d d d b 5 5 d c c c c . . . 
                . . c c c b 5 5 b c c b c . . . 
                . . . . . c b 5 5 d c c c . . . 
                `, img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . c c c c . . . . 
                . . . . . . c c 5 5 5 5 c c . . 
                . . . . . c 5 5 5 5 5 5 5 5 c . 
                . . . . c 5 5 5 f 1 5 5 5 5 5 c 
                . . . c 5 5 5 5 f f 5 5 5 5 5 c 
                . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
                . . c d 5 5 5 5 5 5 b 1 b b c c 
                . . c d d d 5 5 5 5 5 3 3 3 5 c 
                . . c d d d 5 5 5 5 5 5 5 5 b . 
                . . c d d d d b 5 5 c b b c . . 
                c c c d d d d b b 5 5 c b b c . 
                c d d d d d d d d c c c c c c . 
                . c c d d b 5 5 d c c c c . . . 
                . . . c c b 5 5 c c c b b c . . 
                . . . . . c 5 5 d c c c c c . . 
                `],
                350,
                true
            )
            tiles.setCurrentTilemap(tilemap`層級2`)
            scene.centerCameraAt(150, 130)
            scaling.scaleToPercent(Hero, 150, ScaleDirection.Uniformly, ScaleAnchor.Middle)
            scaling.scaleToPercent(Enemy3, 150, ScaleDirection.Uniformly, ScaleAnchor.Middle)
            tiles.placeOnTile(Hero, tiles.getTileLocation(12, 8))
            tiles.placeOnTile(Enemy3, tiles.getTileLocation(5, 8))
        }
    }
}
function JuggernautHPcreate() {
    if (Scene == 2) {
        JuggernautHP = statusbars.create(40, 4, StatusBarKind.Health)
        JuggernautHP.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
        JuggernautHP.max = 3000
        JuggernautHP.value = 3000
        JuggernautHP.setLabel("HP")
        JuggernautHP.setColor(4, 1)
        JuggernautHP.setPosition(43, 5)
    }
}
function AssessBattle5() {
    if (Battle == 1) {
        if (CurrentEnemy == 5) {
            controller.moveSprite(Hero, 0, 0)
            HPcreate()
            SpeedCreate()
            HeroSPcreate()
            JuggernautHPcreate()
            JuggernautSpeedcreate()
            animation.runImageAnimation(
                Hero,
                [img`
                ........................
                ..............ffffff....
                .............f2feeeeff..
                ............f222feeeeff.
                .......cc...feeeeffeeef.
                .......cdc.fe2222eeffff.
                .......cddcf2effff222ef.
                ........cddcffeeefffffff
                .........cddce44fbe44eff
                ..........cdceddf14d4eef
                ..........cccdeddd4eeef.
                ...........edd4e44eeff..
                ............ee442222f...
                .............f2e2222f...
                .............f554444f...
                ..............ffffff....
                ................fff.....
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `, img`
                ........................
                ..............fff.......
                .............f2fffff....
                ...........ff22eeeeeff..
                ..........ff222eeeeeeff.
                ..........feeeefffeeeef.
                .........fe2222eeefffff.
                .........f2efffff222efff
                ..cc.....fffeeefffffffff
                ..cdcc...fee44fbbe44efef
                ..ccddcc..feddfbb4d4eef.
                ....cdddceefddddd4eeef..
                .....ccdcddee2222222f...
                ......cccdd44e544444f...
                .........eeeeffffffff...
                .............ff...fff...
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `],
                350,
                true
            )
            animation.runImageAnimation(
                Juggernaut,
                [img`
                ........................
                .........bffffffdd......
                ........ffcffffffef.....
                .......dffffffeffff.....
                .......ffffff3d4eff.....
                .d.....fffffeddd3d......
                db.....fffff4eed4.......
                dccc...ffeef44fee.......
                ee86c..ffe4fddc4bd......
                e2c66fffffefddd44e......
                e21bccffccfe4d4fefc.....
                e21dcc8688e22eefc88c....
                e21bc696668c22ecfc8c....
                .2b.c8889968e2e8c28c....
                .db..cccb988c2e8ce8.....
                .....dbc8888824bbe8.....
                .....b1b88888e4dccb.....
                ....d111c88888cf88b.....
                ....b111c88888f888b.....
                ...d1111c8888888c88.....
                ...d111b88888fcccf8.....
                ..b1111c66868bddbf8.....
                ..d111b89669fb11bc8.....
                ..b111c69869fb111b8c....
                ..bd1b8666c9fbd11bfc....
                ..bdbc6686968bd11dcc....
                ..dbc66686968bbddbcc....
                ...bf9688698bbbbdccc....
                ....c8996996bbbccc88b...
                .....c888668bddcc888d...
                .....d88888c............
                ........................
                `, img`
                ..........dddddd......
                .........efffccfffc...
                ........bffffffffef...
                .......cfcfffe3efff...
                .......ffffffbddeef...
                .d.....fcfffe3ddee....
                .4b....fffef4ee43e....
                dc68b..ffe4f44be4e....
                dec98ddffe4fdddede....
                d2ec6ffffffe3dde4fd...
                de2efcff88e2444fec8d..
                de2.cc8666ce22ccfc88..
                .e4.b8968968c2ebfec8..
                ....bc886968c22882cb..
                .....bcc89888e288ec...
                .....ddc88888e4bbef...
                ....d11dc8888cedcfc...
                ....d111bc8888f888c...
                ....d111bc8888f8888d..
                ...d1111c88888f8cf8d..
                ...d111b86888fcbcc8d..
                ..b1111f66668bddbc8b..
                ..d111b866698b11db88..
                ..dd11c666698b1d1b88..
                ..dddb8968698b1b1df8..
                ...bb86966668b1bd1b8..
                .....86686968d1bb1bce.
                .....b9666968bdbbbc8cd
                .....b8669968bbccc88ff
                ......888888b..bfff8..
                ......b6b..........f..
                ......................
                `],
                200,
                true
            )
            tiles.setCurrentTilemap(tilemap`層級2`)
            scene.centerCameraAt(150, 130)
            scaling.scaleToPercent(Hero, 120, ScaleDirection.Uniformly, ScaleAnchor.Middle)
            scaling.scaleToPercent(Juggernaut, 120, ScaleDirection.Uniformly, ScaleAnchor.Middle)
            tiles.placeOnTile(Hero, tiles.getTileLocation(12, 8))
            tiles.placeOnTile(Juggernaut, tiles.getTileLocation(5, 8))
            tiles.placeOnTile(treasure5, tiles.getTileLocation(0, 0))
        }
    }
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    LastDirection = 1
    Walk()
})
function Enemy1Speedcreate() {
    EnemySpeed_1 = statusbars.create(40, 4, StatusBarKind.Health)
    EnemySpeed_1.setStatusBarFlag(StatusBarFlag.SmoothTransition, false)
    EnemySpeed_1.value = 0
    EnemySpeed_1.max = 100
    EnemySpeed_1.setLabel("Speed")
    EnemySpeed_1.setColor(2, 1)
    EnemySpeed_1.setPosition(35, 12)
}
function HPcreate() {
    HP = statusbars.create(40, 4, StatusBarKind.Health)
    HP.max = HPvalue
    HP.value = HPvalue
    HP.setLabel("HP")
    HP.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    HP.setPosition(129, 5)
}
function DestoryStatue() {
    sprites.destroy(HP, effects.none, 100)
    sprites.destroy(SP, effects.none, 100)
    sprites.destroy(HEROspeed, effects.none, 100)
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    LastDirection = 2
    Walk()
})
function Scene1F() {
    tiles.setCurrentTilemap(tilemap`層級1`)
    Hero = sprites.create(img`
        . . . . . . f f f f . . . . . . 
        . . . . f f f 2 2 f f f . . . . 
        . . . f f f 2 2 2 2 f f f . . . 
        . . f f f e e e e e e f f f . . 
        . . f f e 2 2 2 2 2 2 e e f . . 
        . . f e 2 f f f f f f 2 e f . . 
        . . f f f f e e e e f f f f . . 
        . f f e f b f 4 4 f b f e f f . 
        . f e e 4 1 f d d f 1 4 e e f . 
        . . f e e d d d d d d e e f . . 
        . . . f e e 4 4 4 4 e e f . . . 
        . . e 4 f 2 2 2 2 2 2 f 4 e . . 
        . . 4 d f 2 2 2 2 2 2 f d 4 . . 
        . . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
        . . . . . f f f f f f . . . . . 
        . . . . . f f . . f f . . . . . 
        `, SpriteKind.Player)
    treasure1 = sprites.create(img`
        . . b b b b b b b b b b b b . . 
        . b e 4 4 4 4 4 4 4 4 4 4 e b . 
        b e 4 4 4 4 4 4 4 4 4 4 4 4 e b 
        b e 4 4 4 4 4 4 4 4 4 4 4 4 e b 
        b e 4 4 4 4 4 4 4 4 4 4 4 4 e b 
        b e e 4 4 4 4 4 4 4 4 4 4 e e b 
        b e e e e e e e e e e e e e e b 
        b e e e e e e e e e e e e e e b 
        b b b b b b b d d b b b b b b b 
        c b b b b b b c c b b b b b b c 
        c c c c c c b c c b c c c c c c 
        b e e e e e c b b c e e e e e b 
        b e e e e e e e e e e e e e e b 
        b c e e e e e e e e e e e e c b 
        b b b b b b b b b b b b b b b b 
        . b b . . . . . . . . . . b b . 
        `, SpriteKind.Food)
    treasure2 = sprites.create(img`
        . . b b b b b b b b b b b b . . 
        . b a 2 2 2 2 2 2 2 2 2 2 a b . 
        b a 2 2 2 2 2 2 2 2 2 2 2 2 a b 
        b a 2 2 2 2 2 2 2 2 2 2 2 2 a b 
        b a 2 2 2 2 2 2 2 2 2 2 2 2 a b 
        b a a 2 2 2 2 2 2 2 2 2 2 a a b 
        b a a a a a a a a a a a a a a b 
        b a a a a a a a a a a a a a a b 
        b b b b b b b d d b b b b b b b 
        c b b b b b b c c b b b b b b c 
        c c c c c c b c c b c c c c c c 
        b 2 2 2 2 2 c b b c 2 2 2 2 2 b 
        b 2 2 2 2 2 2 2 2 2 2 2 2 2 2 b 
        b c 2 2 2 2 2 2 2 2 2 2 2 2 c b 
        b b b b b b b b b b b b b b b b 
        . b b . . . . . . . . . . b b . 
        `, SpriteKind.Food)
    treasure3 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . 6 6 6 6 . . . . . . 
        . . . . 6 6 6 9 9 6 6 6 . . . . 
        . . . 9 9 9 9 6 6 6 6 6 6 . . . 
        . . 6 9 9 9 9 8 8 8 1 1 6 6 . . 
        . . 9 9 9 9 9 8 8 8 1 1 9 6 . . 
        . 6 9 9 9 9 8 8 8 8 8 9 9 6 6 . 
        . 6 9 9 9 8 8 8 6 6 6 6 9 6 6 . 
        . 6 6 9 9 8 8 6 6 6 6 6 6 6 6 . 
        . 6 8 9 9 8 8 6 6 6 6 6 6 6 6 . 
        . . 6 8 9 9 8 6 6 6 6 6 8 6 . . 
        . . 6 8 8 9 8 8 6 6 6 8 6 6 . . 
        . . . 6 8 8 8 8 8 8 8 8 6 . . . 
        . . . . 6 6 8 8 8 8 6 6 . . . . 
        . . . . . . 6 6 6 6 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Food)
    Enemy1 = sprites.create(img`
        . . . . . . c c c c c c . . . . 
        . . . . . c 6 7 7 7 7 6 c . . . 
        . . . . c 7 7 7 7 7 7 7 7 c . . 
        . . . c 6 7 7 7 7 7 7 7 7 6 c . 
        . . . c 7 7 7 c 6 6 6 6 c 7 c . 
        . . . f 7 7 7 6 f 6 6 f 6 7 f . 
        . . . f 7 7 7 7 7 7 7 7 7 7 f . 
        . . c f 6 7 7 c 6 7 7 7 7 f . . 
        . c 7 7 f 6 7 7 c c c c f . . . 
        c 7 7 7 7 f c 6 7 7 7 2 7 c . . 
        c c 6 7 7 6 c f c 7 7 2 7 7 c . 
        . . c 6 6 6 c c f 6 7 1 1 1 1 c 
        . . f 6 6 6 6 c 6 6 1 1 1 1 1 f 
        . . f c 6 6 6 6 6 1 1 1 1 1 6 f 
        . . . f 6 6 6 1 1 1 1 1 1 6 f . 
        . . . . f c c c c c c c c c . . 
        `, SpriteKind.Enemy)
    Enemy2 = sprites.create(img`
        . . . . . . c c c c c c . . . . 
        . . . . . c 6 5 5 5 5 6 c . . . 
        . . . . c 5 5 5 5 5 5 5 5 c . . 
        . . . c 6 5 5 5 5 5 5 5 5 6 c . 
        . . . c 5 5 5 c 6 6 6 6 c 5 c . 
        . . . f 5 5 5 6 f 6 6 f 6 5 f . 
        . . . f 5 5 5 5 5 5 5 5 5 5 f . 
        . . c f 6 5 5 c 6 5 5 5 5 f . . 
        . c 5 5 f 6 5 5 c c c c f . . . 
        c 5 5 5 5 f c 6 5 5 5 2 5 c . . 
        c c 6 5 5 6 c f c 7 5 2 5 5 c . 
        . . c 6 6 6 c c f 6 5 1 1 1 1 c 
        . . f 6 6 6 6 c 6 6 1 1 1 1 1 f 
        . . f c 6 6 6 6 6 1 1 1 1 1 6 f 
        . . . f 6 6 6 1 1 1 1 1 1 6 f . 
        . . . . f c c c c c c c c c . . 
        `, SpriteKind.Enemy)
    Enemy3 = sprites.create(img`
        .........ccc............
        .........cccccccc.......
        ......cc..cc55555cc.....
        ......cccc555555555c....
        ......ccb55555555555c...
        ...cc..b55555ff155555c..
        ...cccb5555555ff55d55c..
        ....ccb55555d55555555c..
        .....b55555d5555d5555c..
        ..cc.b555ddd55555bbbbc..
        ..cccd55ddddd5555d555c..
        ...ccdd5dbdddbbbd555c...
        ....bdddb555bbbbbccc....
        ..cccdddb555cbbbbbbc....
        ...ccddddb555cbbbbbbc...
        ....cdddddb555cbbbbbc...
        ...ccddddddb55cbbbbbcc..
        ..ccbddddd55bcbbbbbbcc..
        ccdddddddd5555bbbbbbc...
        cdddddddbdd555bbbbbc....
        .ccddddbbbdd55cbbccc....
        ...cccbbcbddddccdddcc...
        ......cccdd555dcccccc...
        ........cccccccc........
        `, SpriteKind.Enemy)
    BOSS1 = sprites.create(img`
        ...........22...........
        .........225522.........
        ........255444522.......
        .......2544aaa4452......
        ......254affffa4452.....
        .....254ff1111ff4452....
        .....25fb111111bf4522...
        ....254f11111111f44522..
        ...254fd11111111df44522.
        ..254afd11111111df44452.
        ..254afddd1111dddfaa452.
        ..254afbdbfddfbdbfaa452.
        .2544afcdcf11fcdcfaa452.
        .254aaafb111111bfaaa4522
        .254aafffcdb1bdffffa4452
        .254fc111cbfbfc111cfa452
        .254f1b1b1ffff1b1b1fa452
        .254fbfbffffffbfbfbfa452
        .2544aaaaffffffaaaaa4452
        .225444aaaafffaaaaa44522
        ...255444aaaaaaaaa44522.
        ....2225444444444445522.
        ......2225555555552222..
        .........2222222222.....
        `, SpriteKind.Enemy)
    tiles.placeOnTile(Hero, tiles.getTileLocation(14, 2))
    tiles.placeOnTile(Enemy1, tiles.getTileLocation(5, 8))
    tiles.placeOnTile(Enemy2, tiles.getTileLocation(6, 1))
    tiles.placeOnTile(Enemy3, tiles.getTileLocation(12, 3))
    tiles.placeOnTile(treasure1, tiles.getTileLocation(4, 15))
    tiles.placeOnTile(treasure2, tiles.getTileLocation(6, 0))
    tiles.placeOnTile(treasure3, tiles.getTileLocation(12, 2))
    tiles.placeOnTile(BOSS1, tiles.getTileLocation(14, 5))
    scene.cameraFollowSprite(Hero)
    controller.moveSprite(Hero, 100, 100)
}
function BOSSSpeedCreate() {
    BOSSSpeed_1 = statusbars.create(40, 4, StatusBarKind.Health)
    BOSSSpeed_1.max = 100
    BOSSSpeed_1.value = 0
    BOSSSpeed_1.setLabel("Speed")
    BOSSSpeed_1.setColor(2, 1)
    BOSSSpeed_1.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    BOSSSpeed_1.setPosition(35, 12)
}
function HeroSPcreate() {
    SP = statusbars.create(40, 4, StatusBarKind.Health)
    SP.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    SP.max = SPvalue
    SP.value = SPvalue
    SP.setLabel("SP")
    SP.setColor(8, 1)
    SP.setPosition(129, 12)
}
function JuggernautSpeedcreate() {
    JuggernautSpeed = statusbars.create(40, 4, StatusBarKind.Health)
    JuggernautSpeed.setStatusBarFlag(StatusBarFlag.SmoothTransition, false)
    JuggernautSpeed.value = 0
    JuggernautSpeed.max = 100
    JuggernautSpeed.setLabel("Speed")
    JuggernautSpeed.setColor(2, 1)
    JuggernautSpeed.setPosition(35, 12)
}
function AssessBattle2() {
    if (Battle == 1) {
        if (CurrentEnemy == 2) {
            controller.moveSprite(Hero, 0, 0)
            HPcreate()
            SpeedCreate()
            HeroSPcreate()
            Enemy2HPcreate()
            Enemy2Speedcreate()
            animation.runImageAnimation(
                Hero,
                [img`
                ........................
                ..............ffffff....
                .............f2feeeeff..
                ............f222feeeeff.
                .......cc...feeeeffeeef.
                .......cdc.fe2222eeffff.
                .......cddcf2effff222ef.
                ........cddcffeeefffffff
                .........cddce44fbe44eff
                ..........cdceddf14d4eef
                ..........cccdeddd4eeef.
                ...........edd4e44eeff..
                ............ee442222f...
                .............f2e2222f...
                .............f554444f...
                ..............ffffff....
                ................fff.....
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `, img`
                ........................
                ..............fff.......
                .............f2fffff....
                ...........ff22eeeeeff..
                ..........ff222eeeeeeff.
                ..........feeeefffeeeef.
                .........fe2222eeefffff.
                .........f2efffff222efff
                ..cc.....fffeeefffffffff
                ..cdcc...fee44fbbe44efef
                ..ccddcc..feddfbb4d4eef.
                ....cdddceefddddd4eeef..
                .....ccdcddee2222222f...
                ......cccdd44e544444f...
                .........eeeeffffffff...
                .............ff...fff...
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `],
                350,
                true
            )
            animation.runImageAnimation(
                Enemy2,
                [img`
                . . . . . . c c c c c c . . . . 
                . . . . . c 6 5 5 5 5 6 c . . . 
                . . . . c 5 5 5 5 5 5 5 5 c . . 
                . . . c 6 5 5 5 5 5 5 5 5 6 c . 
                . . . c 5 5 5 c 6 6 6 6 c 5 c . 
                . . . f 5 5 5 6 f 6 6 f 6 5 f . 
                . . . f 5 5 5 5 5 5 5 5 5 5 f . 
                . . c f 6 5 5 c 6 5 5 5 5 f . . 
                . c 5 5 f 6 5 5 c c c c f . . . 
                c 5 5 5 5 f c 6 5 5 5 2 5 c . . 
                c c 6 5 5 6 c f c 5 5 2 5 5 c . 
                . . c 6 6 6 c c f 6 5 1 1 1 1 c 
                . . f 6 6 6 6 c 6 6 1 1 1 1 1 f 
                . . f c 6 6 6 6 6 1 1 1 1 1 6 f 
                . . . f 6 6 6 1 1 1 1 1 1 6 f . 
                . . . . f c c c c c c c c c . . 
                `, img`
                . . . . . . . c c c c c c . . . 
                . . . . . . c 6 5 5 5 5 6 c . . 
                . . . . . c 5 5 5 5 5 5 5 5 c . 
                . . . . c 6 5 5 5 5 5 5 5 5 6 c 
                . . . . c 5 5 5 c 6 6 6 6 c 5 c 
                . . . . f 5 5 5 6 f 6 6 f 6 5 f 
                . . . . f 5 5 5 5 5 5 5 5 5 5 f 
                . . . . f 6 5 5 c 6 5 5 5 5 f . 
                . . c c c f 6 5 5 c c c c f . . 
                . c 5 5 5 c c f 5 5 5 2 6 c . . 
                c 5 5 5 5 6 f c 5 5 2 5 5 6 c . 
                c c c 6 6 6 c 6 6 5 1 1 1 1 c . 
                . . c 6 6 6 6 6 6 1 1 1 1 1 c . 
                . . c 6 6 6 6 6 1 1 1 1 1 6 c . 
                . . c c 6 6 5 1 1 1 1 1 6 c . . 
                . . . c c c c c c c c c c . . . 
                `],
                350,
                true
            )
            tiles.setCurrentTilemap(tilemap`層級2`)
            scene.centerCameraAt(150, 130)
            scaling.scaleToPercent(Hero, 150, ScaleDirection.Uniformly, ScaleAnchor.Middle)
            scaling.scaleToPercent(Enemy2, 150, ScaleDirection.Uniformly, ScaleAnchor.Middle)
            tiles.placeOnTile(Hero, tiles.getTileLocation(12, 8))
            tiles.placeOnTile(Enemy2, tiles.getTileLocation(5, 8))
        }
    }
}
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.stairLarge, function (sprite, location) {
    Scene = 2
    if (Scene == 2) {
        tiles.setCurrentTilemap(tilemap`層級10`)
    }
    tiles.placeOnTile(Hero, tiles.getTileLocation(0, 8))
    GodSword = sprites.create(img`
        ...............................
        dd.............................
        febb...........................
        beeeb.......b..................
        .f44f....b..f..................
        .bfeec...8.ccb.................
        ..ddcec..6.fac.................
        ....dc4c.9cacc.ab..............
        .....dc4c6fccdaccb.............
        .......f4ffffaacdcb............
        ...c6998fbbcfffadcaad..........
        ...dd1cffbdccfaadcabbd.........
        ....ffacfccbbfaaabcb...........
        ..ffcccfffbdcffaabcb...........
        ....fff1affff8dcaabcd..........
        ......aaafccf69dcabc3.ad.......
        ......affc88cf66cabbcad........
        ......af33b8ccffcabbcad........
        .......afff3b8aaaaabcad..a.....
        ........aaaff3b888aabbad..a....
        .........a.aaff3b8aaadcaaa.....
        .........a..daafcaaaaadca......
        ........a......aacaaaaadca.a...
        ............da.daacaaaa8dfa....
        .............daa.3ccaaa8dfa....
        ..................3cbacc81faa..
        ..................3acb3c81fa1a.
        ..................3bacfb381fa..
        .................3b..baffb3fa..
        ......................aaafffa..
        ......................ad.aaaa..
        ...............................
        `, SpriteKind.Food)
    Juggernaut = sprites.create(img`
        ........................
        .........bffffffdd......
        ........ffcffffffef.....
        .......dffffffeffff.....
        .......ffffff3d4eff.....
        .d.....fffffeddd3d......
        db.....fffff4eed4.......
        dccc...ffeef44fee.......
        ee86c..ffe4fddc4bd......
        e2c66fffffefddd44e......
        e21bccffccfe4d4fefc.....
        e21dcc8688e22eefc88c....
        e21bc696668c22ecfc8c....
        .2b.c8889968e2e8c28c....
        .db..cccb988c2e8ce8.....
        .....dbc8888824bbe8.....
        .....b1b88888e4dccb.....
        ....d111c88888cf88b.....
        ....b111c88888f888b.....
        ...d1111c8888888c88.....
        ...d111b88888fcccf8.....
        ..b1111c66868bddbf8.....
        ..d111b89669fb11bc8.....
        ..b111c69869fb111b8c....
        ..bd1b8666c9fbd11bfc....
        ..bdbc6686968bd11dcc....
        ..dbc66686968bbddbcc....
        ...bf9688698bbbbdccc....
        ....c8996996bbbccc88b...
        .....c888668bddcc888d...
        .....d88888c............
        ........................
        `, SpriteKind.Enemy)
    treasure4 = sprites.create(img`
        . . b b b b b b b b b b b b . . 
        . b e 7 7 7 7 7 7 7 7 7 7 e b . 
        b e 7 7 7 7 7 7 7 7 7 7 7 7 e b 
        b e 7 7 7 7 7 7 7 7 7 7 7 7 e b 
        b e 7 7 7 7 7 7 7 7 7 7 7 7 e b 
        b e e 7 7 7 7 7 7 7 7 7 7 e e b 
        b e e e e e e e e e e e e e e b 
        b e e e e e e e e e e e e e e b 
        b b b b b b b d d b b b b b b b 
        c b b b b b b c c b b b b b b c 
        c c c c c c b c c b c c c c c c 
        b 7 7 7 7 7 c b b c 7 7 7 7 7 b 
        b 7 7 7 7 7 7 7 7 7 7 7 7 7 7 b 
        b c 7 7 7 7 7 7 7 7 7 7 7 7 c b 
        b b b b b b b b b b b b b b b b 
        . b b . . . . . . . . . . b b . 
        `, SpriteKind.Food)
    treasure5 = sprites.create(img`
        . . b b b b b b b b b b b b . . 
        . b e 8 8 8 8 8 8 8 8 8 8 e b . 
        b e 8 8 8 8 8 8 8 8 8 8 8 8 e b 
        b e 8 8 8 8 8 8 8 8 8 8 8 8 e b 
        b e 8 8 8 8 8 8 8 8 8 8 8 8 e b 
        b e e 8 8 8 8 8 8 8 8 8 8 e e b 
        b e e e e e e e e e e e e e e b 
        b e e e e e e e e e e e e e e b 
        b b b b b b b d d b b b b b b b 
        c b b b b b b c c b b b b b b c 
        c c c c c c b c c b c c c c c c 
        b 8 8 8 8 8 c b b c 8 8 8 8 8 b 
        b 8 8 8 8 8 8 8 8 8 8 8 8 8 8 b 
        b c 8 8 8 8 8 8 8 8 8 8 8 8 c b 
        b b b b b b b b b b b b b b b b 
        . b b . . . . . . . . . . b b . 
        `, SpriteKind.Food)
    treasure6 = sprites.create(img`
        . . b b b b b b b b b b b b . . 
        . b e 5 5 5 5 5 5 5 5 5 5 e b . 
        b e 5 5 5 5 5 5 5 5 5 5 5 5 e b 
        b e 5 5 5 5 5 5 5 5 5 5 5 5 e b 
        b e 5 5 5 5 5 5 5 5 5 5 5 5 e b 
        b e e 5 5 5 5 5 5 5 5 5 5 e e b 
        b e e e e e e e e e e e e e e b 
        b e e e e e e e e e e e e e e b 
        b b b b b b b d d b b b b b b b 
        c b b b b b b c c b b b b b b c 
        c c c c c c b c c b c c c c c c 
        b 5 5 5 5 5 c b b c 5 5 5 5 5 b 
        b 5 5 5 5 5 5 5 5 5 5 5 5 5 5 b 
        b c 5 5 5 5 5 5 5 5 5 5 5 5 c b 
        b b b b b b b b b b b b b b b b 
        . b b . . . . . . . . . . b b . 
        `, SpriteKind.Food)
    BOSS2 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Enemy)
    tiles.placeOnTile(treasure4, tiles.getTileLocation(9, 0))
    tiles.placeOnTile(treasure5, tiles.getTileLocation(10, 6))
    tiles.placeOnTile(treasure6, tiles.getTileLocation(13, 13))
    BOSS2.setPosition(18, 208)
    GodSword.setPosition(16, 16)
    Juggernaut.setPosition(43, 16)
    sprites.destroy(treasure3, effects.none, 100)
    game.splash("2F", "難度:地獄")
    game.showLongText("這層戰鬥每回合將會受火屬性傷害", DialogLayout.Bottom)
    game.showLongText("此外敵我速度都會降低", DialogLayout.Bottom)
})
function Enemy3HPcreate() {
    EnemyHP_3 = statusbars.create(40, 4, StatusBarKind.Health)
    EnemyHP_3.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    EnemyHP_3.max = 400
    EnemyHP_3.value = 400
    EnemyHP_3.setLabel("HP")
    EnemyHP_3.setColor(10, 1)
    EnemyHP_3.setPosition(43, 5)
}
function AssessBattle4() {
    if (Battle == 1) {
        if (CurrentEnemy == 4) {
            controller.moveSprite(Hero, 0, 0)
            HPcreate()
            SpeedCreate()
            HeroSPcreate()
            BOSSHPcreate()
            BOSSSpeedCreate()
            animation.runImageAnimation(
                Hero,
                [img`
                ........................
                ..............ffffff....
                .............f2feeeeff..
                ............f222feeeeff.
                .......cc...feeeeffeeef.
                .......cdc.fe2222eeffff.
                .......cddcf2effff222ef.
                ........cddcffeeefffffff
                .........cddce44fbe44eff
                ..........cdceddf14d4eef
                ..........cccdeddd4eeef.
                ...........edd4e44eeff..
                ............ee442222f...
                .............f2e2222f...
                .............f554444f...
                ..............ffffff....
                ................fff.....
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `, img`
                ........................
                ..............fff.......
                .............f2fffff....
                ...........ff22eeeeeff..
                ..........ff222eeeeeeff.
                ..........feeeefffeeeef.
                .........fe2222eeefffff.
                .........f2efffff222efff
                ..cc.....fffeeefffffffff
                ..cdcc...fee44fbbe44efef
                ..ccddcc..feddfbb4d4eef.
                ....cdddceefddddd4eeef..
                .....ccdcddee2222222f...
                ......cccdd44e544444f...
                .........eeeeffffffff...
                .............ff...fff...
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                `],
                350,
                true
            )
            animation.runImageAnimation(
                BOSS1,
                [img`
                ........22222...........
                .......22555522.........
                ......2255555522........
                ....222555555552222.....
                ....255555ffff55552.....
                ...22555ff1111ff552.....
                ...2555fb111111bf522....
                ...2555fd1111111f552....
                ...255fdd1111111df52....
                ...255fddd111111df522...
                ...255fdddddd111df552...
                ...255fbddddbfd1df5522..
                ...255fcbbbdcfddbf5552..
                ..22555fcbb11111f55552..
                ..255555fffff1b1f55552..
                ..255555fb111cfbf55552..
                ..255555ffb1b1ff555522..
                ..2555f5fffbfbf555552...
                ..2555ffffffff5555552...
                ..25555fffff555555522...
                ..225555555555555552....
                ...2555555555555552.....
                ...225555555555522......
                .....222222222222.......
                `, img`
                ........22222...........
                .......22555522.........
                ......2255555522........
                ...22225555555522222....
                ..22555555ffff555552....
                ..255555ff1111ff55522...
                .225555fb111111bf55522..
                .255555fd1111111f55552..
                225555fdd1111111df55552.
                255555fddd111111df555522
                255555fdddddd111df555552
                .25555fbddddbfd1df555552
                .25555fcbbbdcfddbf555552
                .225555fcbb11111f5555552
                ..255555fffff1b1f5555552
                ..255555fb111cfbf5555552
                ..255555ffb1b1ff55555522
                ..2555f5fffbfbf55555552.
                ..2555ffffffff55555552..
                ..25555fffff5555555522..
                ..2555555555555555522...
                ...25555555555555522....
                ...2255555555555222.....
                .....222222222222.......
                `, img`
                ........22222...........
                .......22555522.2.......
                ......225555552222......
                .....2255555555252......
                ..2..25555ffff55552.....
                ..222555ff1111ff552.2...
                ..22555fb111111bf5222...
                ..22555fd1111111f5522...
                ..2555fdd1111111df552...
                ..2555fddd111111df552...
                2.2555fdddddd111df552...
                225555fbddddbfd1df5522..
                225555fcbbbdcfddbf5552..
                2555555fcbb11111f55552.2
                25555555fffff1b1f55552.2
                25555555fb111cfbf5555222
                25555555ffb1b1ff55555222
                .25555f5fffbfbf55555552.
                .25555ffffffff555555552.
                .255555fffff55555555552.
                ..555555555555555555522.
                ..22555555555555555222..
                ...22555555555555222....
                .....222222222222.......
                `],
                200,
                true
            )
            tiles.setCurrentTilemap(tilemap`層級2`)
            scene.centerCameraAt(150, 130)
            scaling.scaleToPercent(Hero, 120, ScaleDirection.Uniformly, ScaleAnchor.Middle)
            scaling.scaleToPercent(BOSS1, 150, ScaleDirection.Uniformly, ScaleAnchor.Middle)
            tiles.placeOnTile(Hero, tiles.getTileLocation(12, 8))
            tiles.placeOnTile(BOSS1, tiles.getTileLocation(5, 8))
        }
    }
}
blockMenu.onMenuOptionSelected(function (option, index) {
    if (TouchWeapon == "長劍") {
        if (Weapons == 0) {
            if (option == "裝備") {
                blockMenu.closeMenu()
                game.showLongText("傷害+10", DialogLayout.Bottom)
                Damage += 10
                Weapons = 1
                CurrentWeapon = "長劍"
            }
            if (option == "丟棄") {
                blockMenu.closeMenu()
                Weapons = 0
                Damage += 0
                CurrentWeapon = "赤拳"
            }
        }
        if (Weapons == 2) {
            if (option == "裝備") {
                blockMenu.closeMenu()
                game.showLongText("傷害 -40", DialogLayout.Bottom)
                Damage += -40
                Weapons = 1
                CurrentWeapon = "長劍"
            }
            if (option == "丟棄") {
                blockMenu.closeMenu()
                Weapons = 2
                Damage += 0
                CurrentWeapon = "玄鐵劍"
            }
        }
    }
    if (TouchWeapon == "玄鐵劍") {
        if (Weapons == 0) {
            if (option == "裝備") {
                blockMenu.closeMenu()
                game.showLongText("傷害+50", DialogLayout.Bottom)
                Damage += 50
                Weapons = 2
                CurrentWeapon = "玄鐵劍"
            }
            if (option == "丟棄") {
                blockMenu.closeMenu()
                Weapons = 2
                Damage += 0
                CurrentWeapon = "赤拳"
            }
        }
        if (Weapons == 1) {
            if (option == "裝備") {
                blockMenu.closeMenu()
                game.showLongText("傷害+40", DialogLayout.Bottom)
                Damage += 40
                Weapons = 2
                CurrentWeapon = "玄鐵劍"
            }
            if (option == "丟棄") {
                blockMenu.closeMenu()
                Weapons = 1
                Damage += 0
                CurrentWeapon = "長劍"
            }
        }
    }
    if (TouchWeapon == "古劍龍泉") {
        if (Weapons == 0) {
            if (option == "裝備") {
                blockMenu.closeMenu()
                game.showLongText("傷害 +400", DialogLayout.Bottom)
                Damage += 400
                Weapons = 3
                CurrentWeapon = "古劍龍泉"
            }
            if (option == "丟棄") {
                blockMenu.closeMenu()
                Weapons = 0
                Damage += 0
                CurrentWeapon = "赤拳"
            }
        }
        if (Weapons == 1) {
            if (option == "裝備") {
                blockMenu.closeMenu()
                game.showLongText("傷害 +390", DialogLayout.Bottom)
                Damage += 390
                Weapons = 3
                CurrentWeapon = "古劍龍泉"
            }
            if (option == "丟棄") {
                blockMenu.closeMenu()
                Weapons = 1
                Damage += 0
                CurrentWeapon = "長劍"
            }
        }
        if (Weapons == 2) {
            if (option == "裝備") {
                blockMenu.closeMenu()
                game.showLongText("傷害 +340", DialogLayout.Bottom)
                Damage += 340
                Weapons = 3
                CurrentWeapon = "古劍龍泉"
            }
            if (option == "丟棄") {
                blockMenu.closeMenu()
                Weapons = 2
                Damage += 0
                CurrentWeapon = "玄鐵劍"
            }
        }
    }
    if (option == "飲用") {
        blockMenu.closeMenu()
        SPvalue += 50
        game.showLongText("法力 +50", DialogLayout.Bottom)
    } else {
        blockMenu.closeMenu()
    }
    if (option == "食用") {
        blockMenu.closeMenu()
        HPvalue += 1200
        game.showLongText("生命 +1200", DialogLayout.Bottom)
    } else {
        blockMenu.closeMenu()
    }
    if (option == "服用") {
        blockMenu.closeMenu()
        FireRistent = 1
        SuperState = "火免"
        game.showLongText("玩家獲得對火屬性傷害免疫", DialogLayout.Bottom)
    } else {
        blockMenu.closeMenu()
    }
    if (Battle == 1) {
        if (CurrentEnemy == 1) {
            timer.throttle("AttackAction", 2000, function () {
                if (option == "攻擊") {
                    blockMenu.closeMenu()
                    HEROspeed.value = 0
                    EnemyHP_1.value += 0 - Damage
                    Hero.setPosition(125, 140)
                    scene.cameraShake(3, 600)
                    music.play(music.createSoundEffect(WaveShape.Noise, 1600, 1, 255, 255, 300, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
                    Enemy1.startEffect(effects.fire)
                    timer.after(600, function () {
                        Hero.setPosition(210, 140)
                        effects.clearParticles(Enemy1)
                    })
                } else if (option == "治癒") {
                    if (SP.value >= 8) {
                        blockMenu.closeMenu()
                        RecoverHP()
                        HEROspeed.value = 0
                        SP.value += -8
                        HP.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
                        HP.value += RecoverValue
                        music.play(music.createSoundEffect(WaveShape.Noise, 200, 600, 255, 255, 1000, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
                    }
                }
                timer.after(500, function () {
                    animation.runImageAnimation(
                        Hero,
                        [img`
                        ........................
                        ..............ffffff....
                        .............f2feeeeff..
                        ............f222feeeeff.
                        .......cc...feeeeffeeef.
                        .......cdc.fe2222eeffff.
                        .......cddcf2effff222ef.
                        ........cddcffeeefffffff
                        .........cddce44fbe44eff
                        ..........cdceddf14d4eef
                        ..........cccdeddd4eeef.
                        ...........edd4e44eeff..
                        ............ee442222f...
                        .............f2e2222f...
                        .............f554444f...
                        ..............ffffff....
                        ................fff.....
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        `, img`
                        ........................
                        ..............fff.......
                        .............f2fffff....
                        ...........ff22eeeeeff..
                        ..........ff222eeeeeeff.
                        ..........feeeefffeeeef.
                        .........fe2222eeefffff.
                        .........f2efffff222efff
                        ..cc.....fffeeefffffffff
                        ..cdcc...fee44fbbe44efef
                        ..ccddcc..feddfbb4d4eef.
                        ....cdddceefddddd4eeef..
                        .....ccdcddee2222222f...
                        ......cccdd44e544444f...
                        .........eeeeffffffff...
                        .............ff...fff...
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        `],
                        350,
                        true
                    )
                })
            })
        }
        if (CurrentEnemy == 2) {
            timer.throttle("AttackAction", 2000, function () {
                if (option == "攻擊") {
                    blockMenu.closeMenu()
                    HEROspeed.value = 0
                    EnemyHP_2.value += 0 - Damage
                    Hero.setPosition(125, 140)
                    scene.cameraShake(3, 600)
                    music.play(music.createSoundEffect(WaveShape.Noise, 1600, 1, 255, 255, 300, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
                    Enemy2.startEffect(effects.fire)
                    timer.after(600, function () {
                        Hero.setPosition(210, 140)
                        effects.clearParticles(Enemy2)
                    })
                } else if (option == "治癒") {
                    if (SP.value >= 8) {
                        blockMenu.closeMenu()
                        RecoverHP()
                        HEROspeed.value = 0
                        SP.value += -8
                        HP.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
                        HP.value += RecoverValue
                        music.play(music.createSoundEffect(WaveShape.Noise, 200, 600, 255, 255, 1000, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
                    }
                }
                timer.after(500, function () {
                    animation.runImageAnimation(
                        Hero,
                        [img`
                        ........................
                        ..............ffffff....
                        .............f2feeeeff..
                        ............f222feeeeff.
                        .......cc...feeeeffeeef.
                        .......cdc.fe2222eeffff.
                        .......cddcf2effff222ef.
                        ........cddcffeeefffffff
                        .........cddce44fbe44eff
                        ..........cdceddf14d4eef
                        ..........cccdeddd4eeef.
                        ...........edd4e44eeff..
                        ............ee442222f...
                        .............f2e2222f...
                        .............f554444f...
                        ..............ffffff....
                        ................fff.....
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        `, img`
                        ........................
                        ..............fff.......
                        .............f2fffff....
                        ...........ff22eeeeeff..
                        ..........ff222eeeeeeff.
                        ..........feeeefffeeeef.
                        .........fe2222eeefffff.
                        .........f2efffff222efff
                        ..cc.....fffeeefffffffff
                        ..cdcc...fee44fbbe44efef
                        ..ccddcc..feddfbb4d4eef.
                        ....cdddceefddddd4eeef..
                        .....ccdcddee2222222f...
                        ......cccdd44e544444f...
                        .........eeeeffffffff...
                        .............ff...fff...
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        `],
                        350,
                        true
                    )
                })
            })
        }
        if (CurrentEnemy == 3) {
            timer.throttle("AttackAction", 2000, function () {
                if (option == "攻擊") {
                    blockMenu.closeMenu()
                    HEROspeed.value = 0
                    EnemyHP_3.value += 0 - Damage
                    Hero.setPosition(125, 140)
                    scene.cameraShake(3, 600)
                    music.play(music.createSoundEffect(WaveShape.Noise, 1600, 1, 255, 255, 300, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
                    Enemy3.startEffect(effects.fire)
                    timer.after(600, function () {
                        Hero.setPosition(210, 140)
                        effects.clearParticles(Enemy3)
                    })
                } else if (option == "治癒") {
                    if (SP.value >= 8) {
                        blockMenu.closeMenu()
                        RecoverHP()
                        HEROspeed.value = 0
                        SP.value += -8
                        HP.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
                        HP.value += RecoverValue
                        music.play(music.createSoundEffect(WaveShape.Noise, 200, 600, 255, 255, 1000, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
                    }
                }
                timer.after(500, function () {
                    animation.runImageAnimation(
                        Hero,
                        [img`
                        ........................
                        ..............ffffff....
                        .............f2feeeeff..
                        ............f222feeeeff.
                        .......cc...feeeeffeeef.
                        .......cdc.fe2222eeffff.
                        .......cddcf2effff222ef.
                        ........cddcffeeefffffff
                        .........cddce44fbe44eff
                        ..........cdceddf14d4eef
                        ..........cccdeddd4eeef.
                        ...........edd4e44eeff..
                        ............ee442222f...
                        .............f2e2222f...
                        .............f554444f...
                        ..............ffffff....
                        ................fff.....
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        `, img`
                        ........................
                        ..............fff.......
                        .............f2fffff....
                        ...........ff22eeeeeff..
                        ..........ff222eeeeeeff.
                        ..........feeeefffeeeef.
                        .........fe2222eeefffff.
                        .........f2efffff222efff
                        ..cc.....fffeeefffffffff
                        ..cdcc...fee44fbbe44efef
                        ..ccddcc..feddfbb4d4eef.
                        ....cdddceefddddd4eeef..
                        .....ccdcddee2222222f...
                        ......cccdd44e544444f...
                        .........eeeeffffffff...
                        .............ff...fff...
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        `],
                        350,
                        true
                    )
                })
            })
        }
        if (CurrentEnemy == 4) {
            timer.throttle("AttackAction", 2000, function () {
                if (option == "攻擊") {
                    blockMenu.closeMenu()
                    HEROspeed.value = 0
                    BOSSHP_1.value += 0 - Damage
                    Hero.setPosition(125, 140)
                    scene.cameraShake(3, 600)
                    music.play(music.createSoundEffect(WaveShape.Noise, 1600, 1, 255, 255, 300, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
                    BOSS1.startEffect(effects.fire)
                    timer.after(600, function () {
                        Hero.setPosition(210, 140)
                        effects.clearParticles(BOSS1)
                    })
                } else if (option == "治癒") {
                    if (SP.value >= 8) {
                        blockMenu.closeMenu()
                        RecoverHP()
                        HEROspeed.value = 0
                        SP.value += -8
                        HP.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
                        HP.value += RecoverValue
                        music.play(music.createSoundEffect(WaveShape.Noise, 200, 600, 255, 255, 1000, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
                    }
                }
                timer.after(500, function () {
                    animation.runImageAnimation(
                        Hero,
                        [img`
                        ........................
                        ..............ffffff....
                        .............f2feeeeff..
                        ............f222feeeeff.
                        .......cc...feeeeffeeef.
                        .......cdc.fe2222eeffff.
                        .......cddcf2effff222ef.
                        ........cddcffeeefffffff
                        .........cddce44fbe44eff
                        ..........cdceddf14d4eef
                        ..........cccdeddd4eeef.
                        ...........edd4e44eeff..
                        ............ee442222f...
                        .............f2e2222f...
                        .............f554444f...
                        ..............ffffff....
                        ................fff.....
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        `, img`
                        ........................
                        ..............fff.......
                        .............f2fffff....
                        ...........ff22eeeeeff..
                        ..........ff222eeeeeeff.
                        ..........feeeefffeeeef.
                        .........fe2222eeefffff.
                        .........f2efffff222efff
                        ..cc.....fffeeefffffffff
                        ..cdcc...fee44fbbe44efef
                        ..ccddcc..feddfbb4d4eef.
                        ....cdddceefddddd4eeef..
                        .....ccdcddee2222222f...
                        ......cccdd44e544444f...
                        .........eeeeffffffff...
                        .............ff...fff...
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        `],
                        350,
                        true
                    )
                })
            })
        }
        if (CurrentEnemy == 5) {
            timer.throttle("AttackAction", 6000, function () {
                if (option == "攻擊") {
                    blockMenu.closeMenu()
                    HEROspeed.value = 0
                    if (JuggernautHP.value >= 1500) {
                        JuggernautHP.value += 0 - Damage
                    } else if (JuggernautHP.value >= 750) {
                        JuggernautHP.value += Damage / 1.5 - Damage
                    } else {
                        JuggernautHP.value += Damage / 1.1 - Damage
                    }
                    Hero.setPosition(125, 140)
                    scene.cameraShake(3, 600)
                    music.play(music.createSoundEffect(WaveShape.Noise, 1600, 1, 255, 255, 300, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
                    Juggernaut.startEffect(effects.fire)
                    timer.after(600, function () {
                        Hero.setPosition(210, 140)
                        effects.clearParticles(Juggernaut)
                    })
                } else if (option == "治癒") {
                    if (SP.value >= 8) {
                        blockMenu.closeMenu()
                        RecoverHP()
                        HEROspeed.value = 0
                        SP.value += -8
                        HP.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
                        HP.value += RecoverValue
                        music.play(music.createSoundEffect(WaveShape.Noise, 200, 600, 255, 255, 1000, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
                    }
                } else if (option == "十字斬") {
                    if (SP.value >= 36) {
                        blockMenu.closeMenu()
                        animation.runImageAnimation(
                            Hero,
                            [img`
                            ................................
                            ................................
                            ................................
                            ................................
                            ................................
                            .......8........................
                            .....8888..............88.......
                            .....88811............1888......
                            ......8111...ffffff...11888.....
                            .......1111.f2feeeeff.11188.....
                            ........1111222feeeef11111......
                            ......cc.1111eeeffee11111.......
                            ......cdc1111222eeff1111........
                            ......cddc1111f9999111..........
                            .......cddc1199991991ff.........
                            ........cddc91111119eff.........
                            .........cdc91111119eef.........
                            .........ccc91111119ef..........
                            ..........ed19911199f...........
                            ..........1111999991............
                            .........11111e2221111..........
                            ........111115544441111.........
                            ......111111.ffffff.11111.......
                            .....811111....fff...1118.......
                            .....88811............1888......
                            .....8888.............8888......
                            ................................
                            ................................
                            ................................
                            ................................
                            ................................
                            ................................
                            `, img`
                            ................................
                            ................................
                            ................................
                            ................................
                            .........888....................
                            .......88888....................
                            .......888111...........88......
                            ........11111..........8888.....
                            .........1111ffffff...11888.....
                            .........11111feeeeff11118......
                            ..........11112feeee111111......
                            ......cc...111e9999111111.......
                            ......cdc.fe119999991111........
                            ......cddcf219911199111.........
                            .......cddcf9911119991f.........
                            ....88..cdd1911111199ff.........
                            ....81111111911111199ef.........
                            ....81111111911111119f..........
                            ...881111111991111199...........
                            ...88881...ee991119911..........
                            ............f2999991111.........
                            ............f554444111111.......
                            .............ffffff.1111188.....
                            ...............fff..1111888.....
                            .....................11188......
                            .....................18888......
                            ......................888.......
                            .......................88.......
                            ................................
                            ................................
                            ................................
                            ................................
                            `, img`
                            ................................
                            ................................
                            ................................
                            ................................
                            ................................
                            .......8........................
                            .....8888..............88.......
                            .....88811............1888......
                            ......8111...ffffff...11888.....
                            .......1111.f2feeeeff.11188.....
                            ........1111222feeeef11111......
                            ......cc.1111eeeffee11111.......
                            ......cdc1111222eeff1111........
                            ......cddc1111f9921111..........
                            .......cddc1111191111ff.........
                            ........cddc11111111eff.........
                            .........cdc11111111eef.........
                            .........ccc11111111ef..........
                            ..........ed1111111ff...........
                            ..........1111111111............
                            .........11111e2221111..........
                            ........111115544441111.........
                            ......111111.ffffff.11111.......
                            .....811111....fff...1118.......
                            .....88811............1888......
                            .....8888.............8888......
                            ................................
                            ................................
                            ................................
                            ................................
                            ................................
                            ................................
                            `, img`
                            ................................
                            ................................
                            ......88........................
                            ......888..................888..
                            ......888..................888..
                            .......8819999999999999...888...
                            .......91111111111111199..888...
                            ......991111111111111119911.....
                            .....9911.11.ffffff.111111......
                            ....9911..11f2feeeeff.11199.....
                            ....911....1122feeeeff11119.....
                            ...991cc...11eeeffeee11..19.....
                            ...91.cdc.fe1122eeff11...19.....
                            ...91.cddcf211f992211f...19.....
                            ...91..cddcff1911911fff..19.....
                            ...91...cddce9111194eff..19.....
                            ...991...cdce9111194eef..19.....
                            ....91...ccc119119eeef...19.....
                            ....911...e114e9911ff....19.....
                            ....911...11e44222111....19.....
                            ....9911.11.f2e2222f11..119.....
                            .....91111..f554444f.111199.....
                            ......1111...ffffff....1199.....
                            .....1191111...fff....1119......
                            ....11.991111111111111999111....
                            ...11...999911111111199....11888
                            .888.......99999999999......8888
                            .888.............99..........888
                            .88..........................888
                            888...........................88
                            ...............................8
                            ................................
                            `, img`
                            ................................
                            ................................
                            ................................
                            ................................
                            ................................
                            .............1111...............
                            ..........1111...1111...........
                            .......111...........11.........
                            ......11.....ffffff....11.......
                            .....11.....f2feeeeff...11......
                            .....1.....f222feeeeff...11.....
                            ....11cc...feeeeffeeef....1.....
                            ....1.cdc.fe2222eeffff.....1....
                            ....1.cddcf2effff222ef.....1....
                            ....1..cddcffeeefffffff....1....
                            ....11..cddce44fbe44eff....1....
                            .....1...cdceddf14d4eef....1....
                            .....1...cccdeddd4eeef.....1....
                            .....1....edd4e44eeff......1....
                            .....1.....ee442222f.......1....
                            ......1.....f2e2222f......11....
                            ......1.....f554444f......1.....
                            .......1.....ffffff......11.....
                            .......11......fff......11......
                            ........11.............11.......
                            .........11..........11.........
                            ..........1111....1111..........
                            ..............11111.............
                            ................................
                            ................................
                            ................................
                            ................................
                            `, img`
                            ................................
                            ................................
                            .............111111111..........
                            ...........111........111.......
                            ........111..............11.....
                            ......111.................11....
                            ....11.....................11...
                            ...11.......................1...
                            ...1.........ffffff.........11..
                            ..11........f2feeeeff........1..
                            ..1........f222feeeeff.......1..
                            ..1...cc...feeeeffeeef.......11.
                            ..1...cdc.fe2222eeffff........1.
                            ..1...cddcf2effff222ef........1.
                            ..1....cddcffeeefffffff.......1.
                            ..1.....cddce44fbe44eff.......1.
                            ..1......cdceddf14d4eef.......1.
                            ..11.....cccdeddd4eeef.......11.
                            ...1......edd4e44eeff........1..
                            ...1.......ee442222f.........1..
                            ...1........f2e2222f........11..
                            ...11.......f554444f........1...
                            ....1........ffffff.........1...
                            ....1..........fff.........1....
                            .....1.....................1....
                            .....11...................1.....
                            ......11.................11.....
                            .......11..............11.......
                            .........111........111.........
                            ............11111111............
                            ................................
                            ................................
                            `, img`
                            .........1111111111111..........
                            .......111............111.......
                            ......11................11......
                            .....11...................1.....
                            ....11.....................1....
                            ...11.......................1...
                            ..11........................11..
                            .11..........ffffff..........1..
                            .1..........f2feeeeff........11.
                            11.........f222feeeeff........1.
                            1....ccc...feeeeffeeef........1.
                            1....c11c.fe2222eeffff........1.
                            1.....c11cf2effff222ef.........1
                            1......c11cffeeefffffff........1
                            1.......c11ce44fbe44eff........1
                            1........c1ceddf14d4eef........1
                            1........cccdeddd4eeef.........1
                            1.........edd4e44eeff..........1
                            1..........ee442222f...........1
                            1...........f2e2222f...........1
                            1...........f554444f...........1
                            11...........ffffff............1
                            .1.............fff............1.
                            ..1...........................1.
                            ..11..........................1.
                            ...1.........................1..
                            ...11.......................11..
                            .....11.....................1...
                            ......111.................11....
                            .........11111..........111.....
                            .............11111111111........
                            ................................
                            `],
                            300,
                            true
                        )
                        music.play(music.melodyPlayable(music.magicWand), music.PlaybackMode.InBackground)
                        timer.after(1000, function () {
                            HEROspeed.value = 0
                            SP.value += -36
                            JuggernautHP.value += 0 - Damage
                            CrossCut = sprites.createProjectileFromSprite(img`
                                ..........4444444444....4444555
                                ........44444444444444445455544
                                ........44445554444444445555444
                                ......4444555555554444455444444
                                ....4.44455555555554555544444..
                                ..444444555554455555554444.....
                                .4445555554544455555554444.....
                                44455555544444445554455544444..
                                445544444...4445544.4455544444.
                                45544.....444455444.44445544444
                                5544......4445544.44.44445544..
                                544......4555544444.....445544.
                                44.......44554444.......445444.
                                ........45555444.44.......44...
                                ........4455444444444.....44...
                                .......4455544444..............
                                .......44455444444.............
                                ........445444.................
                                ........455444444..............
                                .......4455444.................
                                .......4445544444.44...........
                                ........4455554444.............
                                ........445554444.4............
                                ........444554444444444........
                                ........444555444444.4.........
                                ..........444554444.4..........
                                ..........4445555444.44........
                                ...........4445554444444.......
                                ............44445544444..4.....
                                ...............44555444.44.....
                                ...............444454444444....
                                ................444555444......
                                `, Hero, -150, 0)
                            scaling.scaleToPercent(CrossCut, 200, ScaleDirection.Uniformly, ScaleAnchor.Middle)
                            scene.cameraShake(3, 200)
                            music.play(music.melodyPlayable(music.beamUp), music.PlaybackMode.UntilDone)
                            animation.runImageAnimation(
                                Juggernaut,
                                [img`
                                ................................
                                ................................
                                ................................
                                ............................bd..
                                ...........ccc.........ccccc88..
                                ..fff.....c88888bbb88888fccc88..
                                .deffd..def8c2eec888ffcbbdbcc8..
                                .dffe34eb4ecfccbc88ccbb111ddcc..
                                .fff4dde44ffc88bdf88cd1111dbcc..
                                .ffeddefcd4eeee44cf8cd11ddbbbd..
                                .fff3de4ddde2222e888fbbbbbbbbd..
                                .ffffe44dd422ec8888888fff88bbb..
                                .fffffffffe2c88888888699966868c.
                                .fcffffe4efe868888888866c999968.
                                .bfffffeefc86998888886686666968.
                                ..ffffffffc869b88ccc86996888688.
                                ...dfffffff668ccb111bc866668988.
                                .........ff898cb111111bc8666988.
                                .........fcc68cdb1111111bc698cd.
                                ........c6cccc...db111111bcfc...
                                .......c66bdb......dd111ddbb....
                                .......c8c111bb......bdbbbd.....
                                .....dbce22222d.................
                                ......ddeeeee...................
                                `],
                                200,
                                true
                            )
                            timer.after(100, function () {
                                CrossCUT2 = sprites.createProjectileFromSprite(img`
                                    ............222................
                                    ..........222f2.222.22.........
                                    .........22fff2222..5222..2....
                                    ........22ffff2.42.24212..42...
                                    .........222ff2.52.4211442.2...
                                    ...........2ff22.22111125222...
                                    .........222ff2222.221112..2.2.
                                    .......22..2ff22452.2211225422.
                                    ........2..2ff2224222221124....
                                    ......2222.2ff224224.2222.22.2.
                                    ........2..2ff21245.2..222.2...
                                    .........222ff2112222.52.242...
                                    .......22222ff21111422.42252...
                                    .........2.2ff222125212...2....
                                    ......2.2..2ff211142112........
                                    ......222222ff222222222222222..
                                    ....2222fffffffffffffffffffff2.
                                    ...222ffffffffffffffffffffffff2
                                    ..2222222222f222222222222222222
                                    ...........2f2.211221112..22111
                                    ...........2f2.221241122.242241
                                    ...........2f22.224221212525221
                                    ...........2f252.22542214122422
                                    ...........2f224.2221211112.544
                                    ...........2f4222.251221112.22.
                                    ...........2f2242222124122222..
                                    ...........2f22112411242242.2..
                                    ...........2f222115242252..52.2
                                    ...........2f225122111424222.24
                                    ...........2f22222.2522.211422.
                                    ...........22..222522422211252.
                                    ...........2.....2.22.254222...
                                    `, Hero, -150, 0)
                                scaling.scaleToPercent(CrossCUT2, 250, ScaleDirection.Uniformly, ScaleAnchor.Middle)
                                animation.runImageAnimation(
                                    Juggernaut,
                                    [img`
                                    ................................
                                    ................................
                                    ................................
                                    ............................bd..
                                    ...........ccc.........ccccc88..
                                    ..fff.....c88888bbb88888fccc88..
                                    .deffd..def8c2eec888ffcbbdbcc8..
                                    .dffe34eb4ecfccbc88ccbb111ddcc..
                                    .fff4dde44ffc88bdf88cd1111dbcc..
                                    .ffeddefcd4eeee44cf8cd11ddbbbd..
                                    .fff3de4ddde2222e888fbbbbbbbbd..
                                    .ffffe44dd422ec8888888fff88bbb..
                                    .fffffffffe2c88888888699966868c.
                                    .fcffffe4efe868888888866c999968.
                                    .bfffffeefc86998888886686666968.
                                    ..ffffffffc869b88ccc86996888688.
                                    ...dfffffff668ccb111bc866668988.
                                    .........ff898cb111111bc8666988.
                                    .........fcc68cdb1111111bc698cd.
                                    ........c6cccc...db111111bcfc...
                                    .......c66bdb......dd111ddbb....
                                    .......c8c111bb......bdbbbd.....
                                    .....dbce22222d.................
                                    ......ddeeeee...................
                                    `],
                                    200,
                                    true
                                )
                                JuggernautHP.value += -100 - Damage
                                scene.cameraShake(5, 500)
                                music.play(music.melodyPlayable(music.beamUp), music.PlaybackMode.UntilDone)
                                timer.after(100, function () {
                                    animation.runImageAnimation(
                                        Juggernaut,
                                        [img`
                                        ........................
                                        .........bffffffdd......
                                        ........ffcffffffef.....
                                        .......dffffffeffff.....
                                        .......ffffff3d4eff.....
                                        .d.....fffffeddd3d......
                                        db.....fffff4eed4.......
                                        dccc...ffeef44fee.......
                                        ee86c..ffe4fddc4bd......
                                        e2c66fffffefddd44e......
                                        e21bccffccfe4d4fefc.....
                                        e21dcc8688e22eefc88c....
                                        e21bc696668c22ecfc8c....
                                        .2b.c8889968e2e8c28c....
                                        .db..cccb988c2e8ce8.....
                                        .....dbc8888824bbe8.....
                                        .....b1b88888e4dccb.....
                                        ....d111c88888cf88b.....
                                        ....b111c88888f888b.....
                                        ...d1111c8888888c88.....
                                        ...d111b88888fcccf8.....
                                        ..b1111c66868bddbf8.....
                                        ..d111b89669fb11bc8.....
                                        ..b111c69869fb111b8c....
                                        ..bd1b8666c9fbd11bfc....
                                        ..bdbc6686968bd11dcc....
                                        ..dbc66686968bbddbcc....
                                        ...bf9688698bbbbdccc....
                                        ....c8996996bbbccc88b...
                                        .....c888668bddcc888d...
                                        .....d88888c............
                                        ........................
                                        `, img`
                                        ..........dddddd......
                                        .........efffccfffc...
                                        ........bffffffffef...
                                        .......cfcfffe3efff...
                                        .......ffffffbddeef...
                                        .d.....fcfffe3ddee....
                                        .4b....fffef4ee43e....
                                        dc68b..ffe4f44be4e....
                                        dec98ddffe4fdddede....
                                        d2ec6ffffffe3dde4fd...
                                        de2efcff88e2444fec8d..
                                        de2.cc8666ce22ccfc88..
                                        .e4.b8968968c2ebfec8..
                                        ....bc886968c22882cb..
                                        .....bcc89888e288ec...
                                        .....ddc88888e4bbef...
                                        ....d11dc8888cedcfc...
                                        ....d111bc8888f888c...
                                        ....d111bc8888f8888d..
                                        ...d1111c88888f8cf8d..
                                        ...d111b86888fcbcc8d..
                                        ..b1111f66668bddbc8b..
                                        ..d111b866698b11db88..
                                        ..dd11c666698b1d1b88..
                                        ..dddb8968698b1b1df8..
                                        ...bb86966668b1bd1b8..
                                        .....86686968d1bb1bce.
                                        .....b9666968bdbbbc8cd
                                        .....b8669968bbccc88ff
                                        ......888888b..bfff8..
                                        ......b6b..........f..
                                        ......................
                                        `],
                                        200,
                                        true
                                    )
                                })
                            })
                        })
                    }
                }
                timer.after(1000, function () {
                    animation.runImageAnimation(
                        Hero,
                        [img`
                        ........................
                        ..............ffffff....
                        .............f2feeeeff..
                        ............f222feeeeff.
                        .......cc...feeeeffeeef.
                        .......cdc.fe2222eeffff.
                        .......cddcf2effff222ef.
                        ........cddcffeeefffffff
                        .........cddce44fbe44eff
                        ..........cdceddf14d4eef
                        ..........cccdeddd4eeef.
                        ...........edd4e44eeff..
                        ............ee442222f...
                        .............f2e2222f...
                        .............f554444f...
                        ..............ffffff....
                        ................fff.....
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        `, img`
                        ........................
                        ..............fff.......
                        .............f2fffff....
                        ...........ff22eeeeeff..
                        ..........ff222eeeeeeff.
                        ..........feeeefffeeeef.
                        .........fe2222eeefffff.
                        .........f2efffff222efff
                        ..cc.....fffeeefffffffff
                        ..cdcc...fee44fbbe44efef
                        ..ccddcc..feddfbb4d4eef.
                        ....cdddceefddddd4eeef..
                        .....ccdcddee2222222f...
                        ......cccdd44e544444f...
                        .........eeeeffffffff...
                        .............ff...fff...
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        ........................
                        `],
                        350,
                        true
                    )
                })
            })
        }
    }
})
function Enemy2HPcreate() {
    EnemyHP_2 = statusbars.create(40, 4, StatusBarKind.Health)
    EnemyHP_2.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    EnemyHP_2.max = 100
    EnemyHP_2.value = 100
    EnemyHP_2.setLabel("HP")
    EnemyHP_2.setColor(10, 1)
    EnemyHP_2.setPosition(43, 5)
}
let ThirdCUT: Sprite = null
let SecondCUT: Sprite = null
let FirstCUT: Sprite = null
let JuggernautSkillName: TextSprite = null
let EXP = 0
let Moving = false
let CrossCUT2: Sprite = null
let CrossCut: Sprite = null
let EnemyHP_2: StatusBarSprite = null
let EnemyHP_3: StatusBarSprite = null
let BOSS2: Sprite = null
let treasure6: Sprite = null
let treasure4: Sprite = null
let GodSword: Sprite = null
let JuggernautSpeed: StatusBarSprite = null
let BOSSSpeed_1: StatusBarSprite = null
let BOSS1: Sprite = null
let Enemy2: Sprite = null
let treasure3: Sprite = null
let treasure2: Sprite = null
let treasure1: Sprite = null
let SP: StatusBarSprite = null
let HP: StatusBarSprite = null
let EnemySpeed_1: StatusBarSprite = null
let treasure5: Sprite = null
let Juggernaut: Sprite = null
let JuggernautHP: StatusBarSprite = null
let Enemy3: Sprite = null
let EnemyHP_1: StatusBarSprite = null
let EnemySpeed_2: StatusBarSprite = null
let Enemy1: Sprite = null
let EnemySpeed_3: StatusBarSprite = null
let HeroInformation: string[] = []
let BOSSHP_1: StatusBarSprite = null
let HEROspeed: StatusBarSprite = null
let Hero: Sprite = null
let LastDirection = 0
let RecoverValue = 0
let SuperState = ""
let CurrentEnemy = 0
let FireRistent = 0
let CurrentWeapon = ""
let TouchWeapon = ""
let Weapons = 0
let Damage = 0
let SPvalue = 0
let HPvalue = 0
let Level = 0
let Battle = 0
let Scene = 0
Scene = 0
if (Scene == 0) {
    Scene1F()
    TittleScene()
}
Battle = 0
Level = 1
HPvalue = 100
SPvalue = 10
Damage = 10
Weapons = 0
TouchWeapon = ""
CurrentWeapon = "赤拳"
FireRistent = 0
CurrentEnemy = 0
SuperState = "無"
RecoverValue = 80
game.onUpdate(function () {
    Moving = controller.up.isPressed() || controller.left.isPressed() || (controller.right.isPressed() || controller.down.isPressed())
    if (!(Moving)) {
        animation.stopAnimation(animation.AnimationTypes.MovementAnimation, Hero)
    }
})
game.onUpdateInterval(100, function () {
    if (Scene == 0) {
        if (controller.A.isPressed()) {
            Scene = 1
        }
    }
    if (Scene == 1) {
        if (Battle == 0) {
            if (Hero.overlapsWith(treasure1)) {
                sprites.destroy(treasure1, effects.none, 100)
                TouchWeapon = "長劍"
                game.splash("獲得長劍")
                game.showLongText("請問要裝備還是丟棄", DialogLayout.Bottom)
                blockMenu.showMenu(["裝備", "丟棄"], MenuStyle.List, MenuLocation.BottomHalf)
            }
            if (Hero.overlapsWith(treasure2)) {
                sprites.destroy(treasure2, effects.none, 100)
                TouchWeapon = "玄鐵劍"
                game.splash("獲得玄鐵劍")
                game.showLongText("請問要裝備還是丟棄", DialogLayout.Bottom)
                blockMenu.showMenu(["裝備", "丟棄"], MenuStyle.List, MenuLocation.BottomHalf)
            }
            if (Hero.overlapsWith(treasure3)) {
                sprites.destroy(treasure3, effects.none, 100)
                game.splash("獲得地心火芝")
                game.showLongText("請問要服用還是丟棄", DialogLayout.Bottom)
                blockMenu.showMenu(["服用", "丟棄"], MenuStyle.List, MenuLocation.BottomHalf)
            }
        }
        if (Hero.overlapsWith(Enemy1)) {
            Battle = 1
            CurrentEnemy = 1
            controller.moveSprite(Hero, 0, 0)
            AssessBattle1()
        }
        if (Hero.overlapsWith(Enemy2)) {
            Battle = 1
            CurrentEnemy = 2
            controller.moveSprite(Hero, 0, 0)
            AssessBattle2()
        }
        if (Hero.overlapsWith(Enemy3)) {
            Battle = 1
            CurrentEnemy = 3
            controller.moveSprite(Hero, 0, 0)
            AssessBattle3()
        }
        if (Hero.overlapsWith(BOSS1)) {
            Battle = 1
            CurrentEnemy = 4
            controller.moveSprite(Hero, 0, 0)
            AssessBattle4()
        }
    }
    if (Battle == 1) {
        if (HP.value <= 0) {
            game.gameOver(false)
        }
        if (CurrentEnemy == 1) {
            if (HEROspeed.value >= 100) {
                timer.throttle("ChooseAction", 2000, function () {
                    blockMenu.showMenu(["攻擊", "治癒"], MenuStyle.List, MenuLocation.BottomHalf)
                })
            }
            if (EnemyHP_1.value > 0) {
                HEROspeed.setStatusBarFlag(StatusBarFlag.SmoothTransition, false)
                HEROspeed.value += 5
                EnemySpeed_1.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
                EnemySpeed_1.value += 1
                if (EnemySpeed_1.value == 100) {
                    timer.throttle("EnemyAction1", 10000, function () {
                        Enemy1.setPosition(180, 135)
                        HP.value += -30
                        animation.runImageAnimation(
                            Enemy1,
                            [img`
                            . . . . c c c c c c c . . . . . 
                            . . . c 6 7 7 7 7 7 6 c . . . . 
                            . . c 6 7 c 6 6 6 6 c 7 c . . . 
                            . . c 7 7 6 f 6 6 f 6 7 6 c . . 
                            . . c 7 7 7 7 7 7 7 7 7 7 c . . 
                            . . f 7 7 7 6 1 f f 1 8 7 f . . 
                            . . f 7 7 7 f 1 f f 1 f 6 f . . 
                            . . f 6 7 7 f 2 2 2 2 f f . . . 
                            . . c f 6 7 7 2 2 2 2 f c c . . 
                            . c 7 7 c c 7 7 7 7 7 7 7 7 c . 
                            c 7 7 7 6 c f 7 7 7 7 1 1 1 7 c 
                            c c 6 6 6 c c f 6 7 1 1 1 1 1 f 
                            . . c 6 6 6 c 6 6 1 1 1 1 1 1 f 
                            . . c 6 6 6 6 6 6 1 1 1 1 1 6 f 
                            . . . c 6 6 6 6 1 1 1 1 1 6 f . 
                            . . . . c c c c c c c c f f . . 
                            `, img`
                            . . . c c c c c c c . . . . . . 
                            . . c 7 f f 6 6 f f c . . . . . 
                            . c 6 7 6 6 6 6 6 6 7 c . . . . 
                            . c 7 7 7 7 7 7 7 7 7 7 c . . . 
                            . c 7 7 7 6 1 f f 1 8 7 c . . . 
                            . f 7 7 7 f 1 f f 1 f 6 f . . . 
                            . f 7 7 7 f 2 2 2 2 f 6 f . . . 
                            . f 6 7 7 f 2 2 2 2 f 6 c c . . 
                            . . c f 7 7 2 2 2 2 7 7 7 7 c . 
                            . c 7 7 c c 7 7 7 7 7 1 1 1 7 c 
                            c 7 7 7 6 c f 7 7 7 1 1 1 1 1 f 
                            c c 6 6 6 c c f 6 1 1 1 1 1 1 f 
                            . . c 6 6 6 c 6 6 1 1 1 1 1 6 f 
                            . . c 6 6 6 6 6 6 1 1 1 1 1 6 f 
                            . . . c 6 6 6 6 6 1 1 1 1 6 f . 
                            . . . . c c c c c c c c f f . . 
                            `, img`
                            . . . c c c c c c c . . . . . . 
                            . . c 7 f f 6 6 f f c . . . . . 
                            . c 6 7 6 6 6 6 6 6 7 c . . . . 
                            . c 7 7 7 7 7 7 7 7 7 7 c . . . 
                            . c 7 7 7 6 1 f f 1 8 7 c . . . 
                            . f 7 7 7 f 1 f f 1 f 6 f . . . 
                            . f 7 7 7 f 2 2 2 2 f 6 f . . . 
                            . f 6 7 7 f 2 2 2 2 f 6 c c . . 
                            . . c f 7 7 2 2 2 2 7 7 7 7 c . 
                            . c 7 7 c c 7 7 7 7 7 1 1 1 7 c 
                            c 7 7 7 6 c f 7 7 7 1 1 1 1 1 f 
                            c c 6 6 6 c c f 6 1 1 1 1 1 1 f 
                            . . c 6 6 6 c 6 6 1 1 1 1 1 6 f 
                            . . c 6 6 6 6 6 6 1 1 1 1 1 6 f 
                            . . . c 6 6 6 6 6 1 1 1 1 6 f . 
                            . . . . c c c c c c c c f f . . 
                            `, img`
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            c c c c c . . . . . . . . . . . 
                            c 6 7 7 7 c c . . . . . . . . . 
                            . c c 7 7 7 c c . . . . . . . . 
                            . . . c 7 7 6 c . . . . . . . . 
                            . . . c 6 6 6 c . . . . . . . . 
                            . . c c 6 6 6 c c c c c c . . . 
                            . c 6 6 6 c c 6 7 7 7 7 6 c . . 
                            c c 6 6 6 c 7 7 7 7 7 7 7 7 c . 
                            c 6 6 6 c 6 7 7 7 7 7 7 7 7 6 c 
                            c 6 6 6 c 7 7 7 c 6 6 6 6 c 7 c 
                            c 6 6 6 f 7 7 7 c c 6 6 c c 7 f 
                            c 6 6 6 f 7 7 7 6 f 6 6 f 6 7 f 
                            . c c 6 6 f 6 7 c 1 f f c 1 c . 
                            . . . c c c c c c c c c c c c . 
                            `, img`
                            c c c c c . . . . . . . . . . . 
                            c 6 7 7 7 c c . . . . . . . . . 
                            . c c 7 7 7 c c . . . . . . . . 
                            . . . c 7 7 6 c . . . . . . . . 
                            . . . c 6 6 6 c . . . . . . . . 
                            . . c c 6 6 6 c . . . . . . . . 
                            . c c 6 6 6 c c c c c c c . . . 
                            . c 6 6 6 c c 6 7 7 7 7 6 c . . 
                            c c 6 6 6 c 7 7 7 7 7 7 7 7 c . 
                            c 6 6 6 c 6 7 7 7 7 7 7 7 7 6 c 
                            c 6 6 6 c 7 7 7 c 6 6 6 6 c 7 c 
                            c 6 6 6 f 7 7 7 c c 6 6 c c 7 f 
                            c 6 6 6 f 7 7 7 6 f 6 6 f 6 7 f 
                            . c 6 6 f 6 7 7 7 7 7 7 7 7 f . 
                            . c c 6 6 f 6 7 c 1 f f c 1 c . 
                            . . . c c c c c c c c c c c c . 
                            `, img`
                            c c c c c . . . . . . . . . . . 
                            c 6 7 7 7 c c . . . . . . . . . 
                            . c c 7 7 7 c c . . . . . . . . 
                            . . . c 7 7 6 c . . . . . . . . 
                            . . . c 6 6 6 c . . . . . . . . 
                            . . c c 6 6 6 c . . . . . . . . 
                            . c c 6 6 6 c c c c c c c . . . 
                            . c 6 6 6 c c 6 7 7 7 7 6 c . . 
                            c c 6 6 6 c 7 7 7 7 7 7 7 7 c . 
                            c 6 6 6 c 6 7 7 7 7 7 7 7 7 6 c 
                            c 6 6 6 c 7 7 7 c 6 6 6 6 c 7 c 
                            c 6 6 6 f 7 7 7 c c 6 6 c c 7 f 
                            c 6 6 6 f 7 7 7 6 f 6 6 f 6 7 f 
                            . c 6 6 f 6 7 7 7 7 7 7 7 7 f . 
                            . c c 6 6 f 6 7 c 1 f f c 1 c . 
                            . . . c c c c c c c c c c c c . 
                            `],
                            800,
                            true
                        )
                        animation.runImageAnimation(
                            Hero,
                            [img`
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ..................ccc...
                            .................cddc...
                            ................cddc....
                            ..............ccddc.....
                            .............ecddcff....
                            ............edcccf2eff..
                            ..........ffeddeefe2e2f.
                            .........f5244ed4ef2e22f
                            .........f5e4edd4ef2e2ff
                            ........ff4224dffef2efef
                            ........ff4224d1bffefeef
                            ........ff422e44ef2efeef
                            .........f422eed4f2feeef
                            ..........ffffe44f2feef.
                            .............feeefefeff.
                            ..............feffffff..
                            ...............fff......
                            `, img`
                            ........................
                            ..............fff.......
                            .............f2fffff....
                            ...........ff22eeeeeff..
                            ..........ff222eeeeeeff.
                            ..........feeeefffeeeef.
                            .........fe2222eeefffff.
                            .........f2efffff222efff
                            ..cc.....fffeeefffffffff
                            ..cdcc...fee44fbbe44efef
                            ..ccddcc..feddfbb4d4eef.
                            ....cdddceefddddd4eeef..
                            .....ccdcddee2222222f...
                            ......cccdd44e544444f...
                            .........eeeeffffffff...
                            .............ff...fff...
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            `],
                            800,
                            true
                        )
                        music.play(music.createSoundEffect(WaveShape.Noise, 3300, 1400, 255, 0, 400, SoundExpressionEffect.Tremolo, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
                        scene.cameraShake(4, 1000)
                        timer.after(800, function () {
                            EnemySpeed_1.value = 0
                            Enemy1.setPosition(90, 135)
                            animation.runImageAnimation(
                                Enemy1,
                                [img`
                                . . . . . . c c c c c c . . . . 
                                . . . . . c 6 7 7 7 7 6 c . . . 
                                . . . . c 7 7 7 7 7 7 7 7 c . . 
                                . . . c 6 7 7 7 7 7 7 7 7 6 c . 
                                . . . c 7 7 7 c 6 6 6 6 c 7 c . 
                                . . . f 7 7 7 6 f 6 6 f 6 7 f . 
                                . . . f 7 7 7 7 7 7 7 7 7 7 f . 
                                . . c f 6 7 7 c 6 7 7 7 7 f . . 
                                . c 7 7 f 6 7 7 c c c c f . . . 
                                c 7 7 7 7 f c 6 7 7 7 2 7 c . . 
                                c c 6 7 7 6 c f c 7 7 2 7 7 c . 
                                . . c 6 6 6 c c f 6 7 1 1 1 1 c 
                                . . f 6 6 6 6 c 6 6 1 1 1 1 1 f 
                                . . f c 6 6 6 6 6 1 1 1 1 1 6 f 
                                . . . f 6 6 6 1 1 1 1 1 1 6 f . 
                                . . . . f c c c c c c c c c . . 
                                `, img`
                                . . . . . . . c c c c c c . . . 
                                . . . . . . c 6 7 7 7 7 6 c . . 
                                . . . . . c 7 7 7 7 7 7 7 7 c . 
                                . . . . c 6 7 7 7 7 7 7 7 7 6 c 
                                . . . . c 7 7 7 c 6 6 6 6 c 7 c 
                                . . . . f 7 7 7 6 f 6 6 f 6 7 f 
                                . . . . f 7 7 7 7 7 7 7 7 7 7 f 
                                . . . . f 6 7 7 c 6 7 7 7 7 f . 
                                . . c c c f 6 7 7 c c c c f . . 
                                . c 7 7 7 c c f 7 7 7 2 6 c . . 
                                c 7 7 7 7 6 f c 7 7 2 7 7 6 c . 
                                c c c 6 6 6 c 6 6 7 1 1 1 1 c . 
                                . . c 6 6 6 6 6 6 1 1 1 1 1 c . 
                                . . c 6 6 6 6 6 1 1 1 1 1 6 c . 
                                . . c c 6 6 7 1 1 1 1 1 6 c . . 
                                . . . c c c c c c c c c c . . . 
                                `],
                                350,
                                true
                            )
                            animation.runImageAnimation(
                                Hero,
                                [img`
                                ........................
                                ..............ffffff....
                                .............f2feeeeff..
                                ............f222feeeeff.
                                .......cc...feeeeffeeef.
                                .......cdc.fe2222eeffff.
                                .......cddcf2effff222ef.
                                ........cddcffeeefffffff
                                .........cddce44fbe44eff
                                ..........cdceddf14d4eef
                                ..........cccdeddd4eeef.
                                ...........edd4e44eeff..
                                ............ee442222f...
                                .............f2e2222f...
                                .............f554444f...
                                ..............ffffff....
                                ................fff.....
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `, img`
                                ........................
                                ..............fff.......
                                .............f2fffff....
                                ...........ff22eeeeeff..
                                ..........ff222eeeeeeff.
                                ..........feeeefffeeeef.
                                .........fe2222eeefffff.
                                .........f2efffff222efff
                                ..cc.....fffeeefffffffff
                                ..cdcc...fee44fbbe44efef
                                ..ccddcc..feddfbb4d4eef.
                                ....cdddceefddddd4eeef..
                                .....ccdcddee2222222f...
                                ......cccdd44e544444f...
                                .........eeeeffffffff...
                                .............ff...fff...
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `],
                                350,
                                true
                            )
                        })
                    })
                }
            }
            if (EnemyHP_1.value <= 0) {
                controller.moveSprite(Hero, 100, 100)
                Battle = 0
                sprites.destroy(Enemy1, effects.fire, 500)
                timer.after(1100, function () {
                    DestoryStatue()
                    sprites.destroy(EnemyHP_1, effects.none, 100)
                    sprites.destroy(EnemySpeed_1, effects.none, 100)
                    tiles.setCurrentTilemap(tilemap`層級1`)
                    scaling.scaleToPercent(Hero, 100, ScaleDirection.Uniformly, ScaleAnchor.Middle)
                    tiles.placeOnTile(Hero, tiles.getTileLocation(4, 8))
                    scene.cameraFollowSprite(Hero)
                    Walk()
                    EXP += 100
                    game.splash("EXP +100")
                    if (EXP >= 100) {
                        Level = 2
                        HPvalue = 150
                        game.splash("升級! 1 to 2", "HP 100 to 150")
                    }
                })
            }
        }
        if (CurrentEnemy == 2) {
            if (HEROspeed.value >= 100) {
                timer.throttle("ChooseAction", 2000, function () {
                    blockMenu.showMenu(["攻擊", "治癒"], MenuStyle.List, MenuLocation.BottomHalf)
                })
            }
            if (EnemyHP_2.value > 0) {
                HEROspeed.setStatusBarFlag(StatusBarFlag.SmoothTransition, false)
                HEROspeed.value += 5
                EnemySpeed_2.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
                EnemySpeed_2.value += 3
                if (EnemySpeed_2.value == 100) {
                    timer.throttle("EnemyAction2", 3333, function () {
                        Enemy2.setPosition(180, 135)
                        HP.value += -50
                        animation.runImageAnimation(
                            Enemy2,
                            [img`
                            . . . . c c c c c c c . . . . . 
                            . . . c 6 5 5 5 5 5 6 c . . . . 
                            . . c 6 5 c 6 6 6 6 c 5 c . . . 
                            . . c 5 5 6 f 6 6 f 6 5 6 c . . 
                            . . c 5 5 5 5 5 5 5 5 5 5 c . . 
                            . . f 5 5 5 6 1 f f 1 8 5 f . . 
                            . . f 5 5 5 f 1 f f 1 f 6 f . . 
                            . . f 6 5 5 f 2 2 2 2 f f . . . 
                            . . c f 6 5 5 2 2 2 2 f c c . . 
                            . c 5 5 c c 5 5 5 5 5 5 5 5 c . 
                            c 5 5 5 6 c f 5 5 5 5 1 1 1 5 c 
                            c c 6 6 6 c c f 6 5 1 1 1 1 1 f 
                            . . c 6 6 6 c 6 6 1 1 1 1 1 1 f 
                            . . c 6 6 6 6 6 6 1 1 1 1 1 6 f 
                            . . . c 6 6 6 6 1 1 1 1 1 6 f . 
                            . . . . c c c c c c c c f f . . 
                            `, img`
                            . . . c c c c c c c . . . . . . 
                            . . c 5 f f 6 6 f f c . . . . . 
                            . c 6 5 6 6 6 6 6 6 5 c . . . . 
                            . c 5 5 5 5 5 5 5 5 5 5 c . . . 
                            . c 5 5 5 6 1 f f 1 8 5 c . . . 
                            . f 5 5 5 f 1 f f 1 f 6 f . . . 
                            . f 5 5 5 f 2 2 2 2 f 6 f . . . 
                            . f 6 5 5 f 2 2 2 2 f 6 c c . . 
                            . . c f 5 5 2 2 2 2 5 5 5 5 c . 
                            . c 5 5 c c 5 5 5 5 5 1 1 1 5 c 
                            c 5 5 5 6 c f 5 5 5 1 1 1 1 1 f 
                            c c 6 6 6 c c f 6 1 1 1 1 1 1 f 
                            . . c 6 6 6 c 6 6 1 1 1 1 1 6 f 
                            . . c 6 6 6 6 6 6 1 1 1 1 1 6 f 
                            . . . c 6 6 6 6 6 1 1 1 1 6 f . 
                            . . . . c c c c c c c c f f . . 
                            `, img`
                            . . . c c c c c c c . . . . . . 
                            . . c 5 f f 6 6 f f c . . . . . 
                            . c 6 5 6 6 6 6 6 6 5 c . . . . 
                            . c 5 5 5 5 5 5 5 5 5 5 c . . . 
                            . c 5 5 5 6 1 f f 1 8 5 c . . . 
                            . f 5 5 5 f 1 f f 1 f 6 f . . . 
                            . f 5 5 5 f 2 2 2 2 f 6 f . . . 
                            . f 6 5 5 f 2 2 2 2 f 6 c c . . 
                            . . c f 5 5 2 2 2 2 5 5 5 5 c . 
                            . c 5 5 c c 5 5 5 5 5 1 1 1 5 c 
                            c 5 5 5 6 c f 5 5 5 1 1 1 1 1 f 
                            c c 6 6 6 c c f 6 1 1 1 1 1 1 f 
                            . . c 6 6 6 c 6 6 1 1 1 1 1 6 f 
                            . . c 6 6 6 6 6 6 1 1 1 1 1 6 f 
                            . . . c 6 6 6 6 6 1 1 1 1 6 f . 
                            . . . . c c c c c c c c f f . . 
                            `, img`
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            c c c c c . . . . . . . . . . . 
                            c 6 5 5 5 c c . . . . . . . . . 
                            . c c 5 5 5 c c . . . . . . . . 
                            . . . c 5 5 6 c . . . . . . . . 
                            . . . c 6 6 6 c . . . . . . . . 
                            . . c c 6 6 6 c c c c c c . . . 
                            . c 6 6 6 c c 6 5 5 5 5 6 c . . 
                            c c 6 6 6 c 5 5 5 5 5 5 5 5 c . 
                            c 6 6 6 c 6 5 5 5 5 5 5 5 5 6 c 
                            c 6 6 6 c 5 5 5 c 6 6 6 6 c 5 c 
                            c 6 6 6 f 5 5 5 c c 6 6 c c 5 f 
                            c 6 6 6 f 5 5 5 6 f 6 6 f 6 5 f 
                            . c c 6 6 f 6 5 c 1 f f c 1 c . 
                            . . . c c c c c c c c c c c c . 
                            `, img`
                            c c c c c . . . . . . . . . . . 
                            c 6 5 5 5 c c . . . . . . . . . 
                            . c c 5 5 5 c c . . . . . . . . 
                            . . . c 5 5 6 c . . . . . . . . 
                            . . . c 6 6 6 c . . . . . . . . 
                            . . c c 6 6 6 c . . . . . . . . 
                            . c c 6 6 6 c c c c c c c . . . 
                            . c 6 6 6 c c 6 5 5 5 5 6 c . . 
                            c c 6 6 6 c 5 5 5 5 5 5 5 5 c . 
                            c 6 6 6 c 6 5 5 5 5 5 5 5 5 6 c 
                            c 6 6 6 c 5 5 5 c 6 6 6 6 c 5 c 
                            c 6 6 6 f 5 5 5 c c 6 6 c c 5 f 
                            c 6 6 6 f 5 5 5 6 f 6 6 f 6 5 f 
                            . c 6 6 f 6 5 5 5 5 5 5 5 5 f . 
                            . c c 6 6 f 6 5 c 1 f f c 1 c . 
                            . . . c c c c c c c c c c c c . 
                            `, img`
                            c c c c c . . . . . . . . . . . 
                            c 6 5 5 5 c c . . . . . . . . . 
                            . c c 5 5 5 c c . . . . . . . . 
                            . . . c 5 5 6 c . . . . . . . . 
                            . . . c 6 6 6 c . . . . . . . . 
                            . . c c 6 6 6 c . . . . . . . . 
                            . c c 6 6 6 c c c c c c c . . . 
                            . c 6 6 6 c c 6 5 5 5 5 6 c . . 
                            c c 6 6 6 c 5 5 5 5 5 5 5 5 c . 
                            c 6 6 6 c 6 5 5 5 5 5 5 5 5 6 c 
                            c 6 6 6 c 5 5 5 c 6 6 6 6 c 5 c 
                            c 6 6 6 f 5 5 5 c c 6 6 c c 5 f 
                            c 6 6 6 f 5 5 5 6 f 6 6 f 6 5 f 
                            . c 6 6 f 6 5 5 5 5 5 5 5 5 f . 
                            . c c 6 6 f 6 5 c 1 f f c 1 c . 
                            . . . c c c c c c c c c c c c . 
                            `],
                            800,
                            true
                        )
                        animation.runImageAnimation(
                            Hero,
                            [img`
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ..................ccc...
                            .................cddc...
                            ................cddc....
                            ..............ccddc.....
                            .............ecddcff....
                            ............edcccf2eff..
                            ..........ffeddeefe2e2f.
                            .........f5244ed4ef2e22f
                            .........f5e4edd4ef2e2ff
                            ........ff4224dffef2efef
                            ........ff4224d1bffefeef
                            ........ff422e44ef2efeef
                            .........f422eed4f2feeef
                            ..........ffffe44f2feef.
                            .............feeefefeff.
                            ..............feffffff..
                            ...............fff......
                            `, img`
                            ........................
                            ..............fff.......
                            .............f2fffff....
                            ...........ff22eeeeeff..
                            ..........ff222eeeeeeff.
                            ..........feeeefffeeeef.
                            .........fe2222eeefffff.
                            .........f2efffff222efff
                            ..cc.....fffeeefffffffff
                            ..cdcc...fee44fbbe44efef
                            ..ccddcc..feddfbb4d4eef.
                            ....cdddceefddddd4eeef..
                            .....ccdcddee2222222f...
                            ......cccdd44e544444f...
                            .........eeeeffffffff...
                            .............ff...fff...
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            `],
                            800,
                            true
                        )
                        music.play(music.createSoundEffect(WaveShape.Noise, 3300, 1400, 255, 0, 400, SoundExpressionEffect.Tremolo, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
                        scene.cameraShake(4, 1000)
                        timer.after(800, function () {
                            EnemySpeed_2.value = 0
                            Enemy2.setPosition(90, 135)
                            animation.runImageAnimation(
                                Enemy2,
                                [img`
                                . . . . . . c c c c c c . . . . 
                                . . . . . c 6 5 5 5 5 6 c . . . 
                                . . . . c 5 5 5 5 5 5 5 5 c . . 
                                . . . c 6 5 5 5 5 5 5 5 5 6 c . 
                                . . . c 5 5 5 c 6 6 6 6 c 5 c . 
                                . . . f 5 5 5 6 f 6 6 f 6 5 f . 
                                . . . f 5 5 5 5 5 5 5 5 5 5 f . 
                                . . c f 6 5 5 c 6 5 5 5 5 f . . 
                                . c 5 5 f 6 5 5 c c c c f . . . 
                                c 5 5 5 5 f c 6 5 5 5 2 5 c . . 
                                c c 6 5 5 6 c f c 5 5 2 5 5 c . 
                                . . c 6 6 6 c c f 6 5 1 1 1 1 c 
                                . . f 6 6 6 6 c 6 6 1 1 1 1 1 f 
                                . . f c 6 6 6 6 6 1 1 1 1 1 6 f 
                                . . . f 6 6 6 1 1 1 1 1 1 6 f . 
                                . . . . f c c c c c c c c c . . 
                                `, img`
                                . . . . . . . c c c c c c . . . 
                                . . . . . . c 6 5 5 5 5 6 c . . 
                                . . . . . c 5 5 5 5 5 5 5 5 c . 
                                . . . . c 6 5 5 5 5 5 5 5 5 6 c 
                                . . . . c 5 5 5 c 6 6 6 6 c 5 c 
                                . . . . f 5 5 5 6 f 6 6 f 6 5 f 
                                . . . . f 5 5 5 5 5 5 5 5 5 5 f 
                                . . . . f 6 5 5 c 6 5 5 5 5 f . 
                                . . c c c f 6 5 5 c c c c f . . 
                                . c 5 5 5 c c f 5 5 5 2 6 c . . 
                                c 5 5 5 5 6 f c 5 5 2 5 5 6 c . 
                                c c c 6 6 6 c 6 6 5 1 1 1 1 c . 
                                . . c 6 6 6 6 6 6 1 1 1 1 1 c . 
                                . . c 6 6 6 6 6 1 1 1 1 1 6 c . 
                                . . c c 6 6 5 1 1 1 1 1 6 c . . 
                                . . . c c c c c c c c c c . . . 
                                `],
                                350,
                                true
                            )
                            animation.runImageAnimation(
                                Hero,
                                [img`
                                ........................
                                ..............ffffff....
                                .............f2feeeeff..
                                ............f222feeeeff.
                                .......cc...feeeeffeeef.
                                .......cdc.fe2222eeffff.
                                .......cddcf2effff222ef.
                                ........cddcffeeefffffff
                                .........cddce44fbe44eff
                                ..........cdceddf14d4eef
                                ..........cccdeddd4eeef.
                                ...........edd4e44eeff..
                                ............ee442222f...
                                .............f2e2222f...
                                .............f554444f...
                                ..............ffffff....
                                ................fff.....
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `, img`
                                ........................
                                ..............fff.......
                                .............f2fffff....
                                ...........ff22eeeeeff..
                                ..........ff222eeeeeeff.
                                ..........feeeefffeeeef.
                                .........fe2222eeefffff.
                                .........f2efffff222efff
                                ..cc.....fffeeefffffffff
                                ..cdcc...fee44fbbe44efef
                                ..ccddcc..feddfbb4d4eef.
                                ....cdddceefddddd4eeef..
                                .....ccdcddee2222222f...
                                ......cccdd44e544444f...
                                .........eeeeffffffff...
                                .............ff...fff...
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `],
                                350,
                                true
                            )
                        })
                    })
                }
            }
            if (EnemyHP_2.value <= 0) {
                controller.moveSprite(Hero, 100, 100)
                Battle = 0
                sprites.destroy(Enemy2, effects.fire, 500)
                DestoryStatue()
                sprites.destroy(EnemyHP_2, effects.none, 100)
                sprites.destroy(EnemySpeed_2, effects.none, 100)
                timer.after(1100, function () {
                    tiles.setCurrentTilemap(tilemap`層級1`)
                    scaling.scaleToPercent(Hero, 100, ScaleDirection.Uniformly, ScaleAnchor.Middle)
                    tiles.placeOnTile(Hero, tiles.getTileLocation(6, 2))
                    scene.cameraFollowSprite(Hero)
                    Walk()
                    EXP += 100
                    game.splash("EXP +100")
                    if (EXP >= 200) {
                        game.splash("升級! 2 to 3", "傷害 +30")
                        Level = 3
                        Damage += 30
                    }
                })
            }
        }
        if (CurrentEnemy == 3) {
            if (HEROspeed.value >= 100) {
                timer.throttle("ChooseAction", 2000, function () {
                    blockMenu.showMenu(["攻擊", "治癒"], MenuStyle.List, MenuLocation.BottomHalf)
                })
            }
            if (EnemyHP_3.value > 0) {
                HEROspeed.setStatusBarFlag(StatusBarFlag.SmoothTransition, false)
                HEROspeed.value += 5
                EnemySpeed_3.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
                EnemySpeed_3.value += 3
                if (EnemySpeed_3.value == 100) {
                    timer.throttle("EnemyAction2", 3333, function () {
                        Enemy3.setPosition(170, 135)
                        HP.value += -50
                        animation.runImageAnimation(
                            Enemy3,
                            [img`
                            ........................
                            ........................
                            ...........ccc..........
                            ...........cccc.........
                            .......ccc..ccccccc.....
                            .......cccccc555555cc...
                            ........ccb5555555555c..
                            .....cc..b555555555555c.
                            .....cccb555555ff155555c
                            ......cb55555555ff55d55c
                            ......b5555555555555555c
                            ...cc.b555dd5555bb13bbc.
                            ...cccd55ddddd555b3335c.
                            .....bdddddddddd55b335c.
                            ..cccdddddb55bbddd5555c.
                            ..cccdddddb555bbbbcccc..
                            ...ccddddddb5555cbcdc...
                            ccccbdddddd5cb55cbcc....
                            cddddddddd5555ccbbc.....
                            .cddddddbdd555bbbcc.....
                            ..ccdddbbbdd55cbcdc.....
                            ....ccbbcbddddccdddcc...
                            ......cccdd555dcccccc...
                            ........cccccccc........
                            `, img`
                            .........ccc............
                            .........cccccccc.......
                            ......cc..cc55555cc.....
                            ......cccc555555555c....
                            ......ccb55555555555c...
                            ...cc..b55555ff155555c..
                            ...cccb5555555ff55d55c..
                            ....ccb55555d55555555c..
                            .....b55555d5555d5555c..
                            ..cc.b555ddd55555bbbbc..
                            ..cccd55ddddd5555d555c..
                            ...ccdd5dbdddbbbd555c...
                            ....bdddb555bbbbbccc....
                            ..cccdddb555cbbbbbbc....
                            ...ccddddb555cbbbbbbc...
                            ....cdddddb555cbbbbbc...
                            ...ccddddddb55cbbbbbcc..
                            ..ccbddddd55bcbbbbbbcc..
                            ccdddddddd5555bbbbbbc...
                            cdddddddbdd555bbbbbc....
                            .ccddddbbbdd55cbbccc....
                            ...cccbbcbddddccdddcc...
                            ......cccdd555dcccccc...
                            ........cccccccc........
                            `, img`
                            ........ccc.............
                            ........cccccccc........
                            .....cc..cc55555cc......
                            .....cccc555555555c.....
                            .....ccb55555555555c....
                            ...cc.b5555bcc555555c...
                            ...ccb55555555c55d55c...
                            ....cb5555dd55555555c...
                            .....5555dd5555d5555c...
                            ..cc.555dd555555dbbbc...
                            ..ccc55ddd555555d555c...
                            ...ccd5dbdd5555d555c....
                            ....bdddb555bbbbbccc....
                            ..cccdddb555cbbbbbbbc...
                            ...ccddddb555cbbbbbbbc..
                            ....cdddddb555cbbbbbbc..
                            ...ccddddddb55cbbbbbbcc.
                            ...cbddddd55bcbbbbbbbcc.
                            ..cbdddddd5555bbbbbbbc..
                            .cddddddbdd555bbbbbbc...
                            cddddddbbbdd55cbbccc....
                            ccccccbbcbddddccdddcc...
                            ......cccdd555dcccccc...
                            ........cccccccc........
                            `, img`
                            ........................
                            ........................
                            ........................
                            ...........ccc..........
                            ...........cccc.........
                            .......ccc..ccccccc.....
                            .......cccccc555555cc...
                            ........ccb5555555555c..
                            .....cc..b555555555555c.
                            .....cccb55555bcc555555c
                            ......cb555555555c55d55c
                            ......b5555555555555555c
                            ...cc.b555dd5555bb1bbbc.
                            ....ccd55ddddd5bbbb335c.
                            ...ccbdddddddd5bbbb335c.
                            .ccccddddddddd55bbb335c.
                            cdcccdddddb55bb5bb3335c.
                            cddbddddddb555bb5b3335c.
                            cddddddddddb5555b53335c.
                            ccddddddbd55bb55c5555c..
                            .ccddddbbbdd55cccbccc...
                            ...ccbbbcbddddccdddc....
                            .....ccccdd555dccccc....
                            ........cccccccc........
                            `, img`
                            ........................
                            ........................
                            ........................
                            ...........ccc..........
                            ...........cccc.........
                            .......ccc..ccccccc.....
                            .......cccccc555555cc...
                            ........ccb5555555555c..
                            .....cc..b555555555555c.
                            .....cccb55555bcc555555c
                            ......cb555555555c55d55c
                            ......b5555555555555555c
                            ...cc.b555dd5555bb1bbbc.
                            ....ccd55ddddd5bbbb335c.
                            ...ccbdddddddd5bbbb335c.
                            .ccccddddddddd55bb3335c.
                            cdcccdddddb55bb55b3335c.
                            cddbddddddb555bb553335c.
                            cddddddddddb5555b5555c..
                            ccddddddbd55bb55cbccc...
                            .ccddddbbbdd55ccbbc.....
                            ...ccbbbcbddddccdddc....
                            .....ccccdd555dccccc....
                            ........cccccccc........
                            `, img`
                            ........................
                            ........................
                            ........................
                            ...........ccc..........
                            ...........cccc.........
                            .......ccc..ccccccc.....
                            .......cccccc555555cc...
                            ........ccb5555555555c..
                            .....cc..b555555555555c.
                            .....cccb55555bcc555555c
                            ......cb555555555c55d55c
                            ......b5555555555555555c
                            ...cc.b555dd5555bb1bbbc.
                            ....ccd55ddddd55bbb335c.
                            ...ccbddddddddd5bb3335c.
                            .ccccdddddddddd55b3335c.
                            cdcccdddddb55bbd553335c.
                            cddbddddddb555bb55555c..
                            cddddddddddb5555bbccc...
                            ccddddddbd55bb55cbc.....
                            .ccddddbbbdd55ccbdc.....
                            ...ccbbbcbddddccdddc....
                            .....ccccdd555dccccc....
                            ........cccccccc........
                            `],
                            800,
                            true
                        )
                        animation.runImageAnimation(
                            Hero,
                            [img`
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ..................ccc...
                            .................cddc...
                            ................cddc....
                            ..............ccddc.....
                            .............ecddcff....
                            ............edcccf2eff..
                            ..........ffeddeefe2e2f.
                            .........f5244ed4ef2e22f
                            .........f5e4edd4ef2e2ff
                            ........ff4224dffef2efef
                            ........ff4224d1bffefeef
                            ........ff422e44ef2efeef
                            .........f422eed4f2feeef
                            ..........ffffe44f2feef.
                            .............feeefefeff.
                            ..............feffffff..
                            ...............fff......
                            `, img`
                            ........................
                            ..............fff.......
                            .............f2fffff....
                            ...........ff22eeeeeff..
                            ..........ff222eeeeeeff.
                            ..........feeeefffeeeef.
                            .........fe2222eeefffff.
                            .........f2efffff222efff
                            ..cc.....fffeeefffffffff
                            ..cdcc...fee44fbbe44efef
                            ..ccddcc..feddfbb4d4eef.
                            ....cdddceefddddd4eeef..
                            .....ccdcddee2222222f...
                            ......cccdd44e544444f...
                            .........eeeeffffffff...
                            .............ff...fff...
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            `],
                            800,
                            true
                        )
                        music.play(music.createSoundEffect(WaveShape.Noise, 3300, 1400, 255, 0, 400, SoundExpressionEffect.Tremolo, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
                        scene.cameraShake(4, 1000)
                        timer.after(800, function () {
                            EnemySpeed_3.value = 0
                            Enemy3.setPosition(90, 135)
                            animation.runImageAnimation(
                                Enemy3,
                                [img`
                                . . . . . . . . . . . . . . . . 
                                . . . . . . . . c c c c . . . . 
                                . . . . . . c c 5 5 5 5 c c . . 
                                . . . . . c 5 5 5 5 5 5 5 5 c . 
                                . . . . c 5 5 5 f 1 5 5 5 5 5 c 
                                . . . c 5 5 5 5 f f 5 5 5 5 5 c 
                                . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
                                . . c d 5 5 5 5 5 5 b 1 b b c c 
                                . . c d d d 5 5 5 5 5 3 3 3 5 c 
                                . . c d d d 5 5 5 5 5 5 5 5 b . 
                                . c c d d d d b 5 5 c b b c . . 
                                c d c d d d d b b 5 5 c b b c . 
                                c d d d d d d d d c c c c c c . 
                                . c d d d b 5 5 d c c c c . . . 
                                . . c c c b 5 5 b c c c c c . . 
                                . . . . c b 5 5 d c b b b c . . 
                                `, img`
                                . . . . . . . c c c c c . . . . 
                                . . . . . . c 5 5 5 5 5 c c . . 
                                . . . . . c 5 5 f 1 5 5 5 5 c . 
                                . . . . c 5 5 5 f f 5 5 5 5 5 c 
                                . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
                                . . . c 5 5 5 5 5 5 b 1 b b c c 
                                . . c d 5 5 5 5 5 5 5 3 3 3 5 c 
                                . . c d d d 5 5 5 5 5 3 3 3 5 c 
                                . . c d d d 5 5 5 b 5 5 5 5 c . 
                                . . c d d d d b 5 5 c b b c . . 
                                c c c d d d d b b 5 5 c b b c . 
                                c d d d d d d d d c c c c c c . 
                                . c d d d b 5 5 b c c c . . . . 
                                . . c c c b b 5 5 d c . . . . . 
                                . . . . . c c c c c c c . . . . 
                                . . . . . . . c b b b c . . . . 
                                `, img`
                                . . . . . . . c c c c c . . . . 
                                . . . . . . c 5 5 5 5 5 c c . . 
                                . . . . . c 5 5 f 1 5 5 5 5 c . 
                                . . . . c 5 5 5 f f 5 5 5 5 5 c 
                                . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
                                . . . c 5 5 5 5 5 5 b 1 b b c c 
                                . . c d 5 5 5 5 5 5 5 3 3 3 5 c 
                                . . c d d d 5 5 5 5 5 5 5 5 5 c 
                                . . c d d d 5 5 5 b 5 5 5 5 c . 
                                . . c d d d d b 5 5 c b b c . . 
                                c c c d d d d b b 5 5 c b b c . 
                                c d d d d d d d d c c c c c c . 
                                . c c d d d b 5 5 b c c . . . . 
                                . . . c c c b b 5 5 d c . . . . 
                                . . . . . c c c c c c c . . . . 
                                . . . . . . . c b b b c . . . . 
                                `, img`
                                . . . . . . . c c c c c . . . . 
                                . . . . . . c 5 5 5 5 5 c c . . 
                                . . . . . c 5 5 f 1 5 5 5 5 c . 
                                . . . . c 5 5 5 f f 5 5 5 5 5 c 
                                . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
                                . . . c 5 5 5 5 5 5 b 1 b b c c 
                                . . c d 5 5 5 5 5 5 5 3 3 3 5 c 
                                . . c d d d 5 5 5 5 5 5 5 5 5 c 
                                . . c d d d 5 5 5 b 5 5 5 5 c . 
                                . . c d d d d b 5 5 c b b c . . 
                                . c c d d d d b b 5 5 c b b c . 
                                c c d d d d d d b b c c c c c . 
                                c d d d d d 5 5 b 5 5 c c . . . 
                                c c c c c c b b 5 5 b c . . . . 
                                . . . . . . c c c c c c . . . . 
                                . . . . . . c b b b c . . . . . 
                                `, img`
                                . . . . . . . . . . . . . . . . 
                                . . . . . . . . c c c c . . . . 
                                . . . . . . c c 5 5 5 5 c c . . 
                                . . . . . c 5 5 5 5 5 5 5 5 c . 
                                . . . . c 5 5 5 f 1 5 5 5 5 5 c 
                                . . . c 5 5 5 5 f f 5 5 5 5 5 c 
                                . . . c 5 5 5 5 5 5 b 1 b b c c 
                                . . c d 5 5 5 5 5 5 b b 3 3 c c 
                                . . c d d d 5 5 5 5 5 3 3 3 5 c 
                                . . c d d d 5 5 5 5 5 5 5 5 b . 
                                . . c d d d d b 5 5 c b b c . . 
                                c c c d d d d b b 5 5 c b b c . 
                                c d d d d d d d d c c c c c c . 
                                c c d d d b 5 5 d c c c c . . . 
                                . . c c c b 5 5 b c c b c . . . 
                                . . . . . c b 5 5 d c c c . . . 
                                `, img`
                                . . . . . . . . . . . . . . . . 
                                . . . . . . . . c c c c . . . . 
                                . . . . . . c c 5 5 5 5 c c . . 
                                . . . . . c 5 5 5 5 5 5 5 5 c . 
                                . . . . c 5 5 5 f 1 5 5 5 5 5 c 
                                . . . c 5 5 5 5 f f 5 5 5 5 5 c 
                                . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
                                . . c d 5 5 5 5 5 5 b 1 b b c c 
                                . . c d d d 5 5 5 5 5 3 3 3 5 c 
                                . . c d d d 5 5 5 5 5 5 5 5 b . 
                                . . c d d d d b 5 5 c b b c . . 
                                c c c d d d d b b 5 5 c b b c . 
                                c d d d d d d d d c c c c c c . 
                                . c c d d b 5 5 d c c c c . . . 
                                . . . c c b 5 5 c c c b b c . . 
                                . . . . . c 5 5 d c c c c c . . 
                                `],
                                350,
                                true
                            )
                            animation.runImageAnimation(
                                Hero,
                                [img`
                                ........................
                                ..............ffffff....
                                .............f2feeeeff..
                                ............f222feeeeff.
                                .......cc...feeeeffeeef.
                                .......cdc.fe2222eeffff.
                                .......cddcf2effff222ef.
                                ........cddcffeeefffffff
                                .........cddce44fbe44eff
                                ..........cdceddf14d4eef
                                ..........cccdeddd4eeef.
                                ...........edd4e44eeff..
                                ............ee442222f...
                                .............f2e2222f...
                                .............f554444f...
                                ..............ffffff....
                                ................fff.....
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `, img`
                                ........................
                                ..............fff.......
                                .............f2fffff....
                                ...........ff22eeeeeff..
                                ..........ff222eeeeeeff.
                                ..........feeeefffeeeef.
                                .........fe2222eeefffff.
                                .........f2efffff222efff
                                ..cc.....fffeeefffffffff
                                ..cdcc...fee44fbbe44efef
                                ..ccddcc..feddfbb4d4eef.
                                ....cdddceefddddd4eeef..
                                .....ccdcddee2222222f...
                                ......cccdd44e544444f...
                                .........eeeeffffffff...
                                .............ff...fff...
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `],
                                350,
                                true
                            )
                        })
                    })
                }
            }
            if (EnemyHP_3.value <= 0) {
                controller.moveSprite(Hero, 100, 100)
                Battle = 0
                sprites.destroy(Enemy3, effects.fire, 500)
                DestoryStatue()
                sprites.destroy(EnemyHP_3, effects.none, 100)
                sprites.destroy(EnemySpeed_3, effects.none, 100)
                timer.after(1100, function () {
                    tiles.setCurrentTilemap(tilemap`層級1`)
                    scaling.scaleToPercent(Hero, 100, ScaleDirection.Uniformly, ScaleAnchor.Middle)
                    tiles.placeOnTile(Hero, tiles.getTileLocation(12, 4))
                    scene.cameraFollowSprite(Hero)
                    Walk()
                    EXP += 100
                    game.splash("EXP +100")
                    if (EXP >= 300) {
                        game.splash("升級! 3 to 4", "法力 +20")
                        Level = 3
                        SPvalue += 20
                    }
                })
            }
        }
        if (CurrentEnemy == 4) {
            if (HEROspeed.value >= 100) {
                timer.throttle("ChooseAction", 2000, function () {
                    blockMenu.showMenu(["攻擊", "治癒"], MenuStyle.List, MenuLocation.BottomHalf)
                })
            }
            if (BOSSHP_1.value > 0) {
                HEROspeed.setStatusBarFlag(StatusBarFlag.SmoothTransition, false)
                HEROspeed.value += 5
                BOSSSpeed_1.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
                BOSSSpeed_1.value += 2
                if (BOSSSpeed_1.value == 100) {
                    timer.throttle("EnemyAction2", 5000, function () {
                        BOSS1.setPosition(170, 135)
                        HP.value += -100
                        animation.runImageAnimation(
                            BOSS1,
                            [img`
                            ...........222..........
                            .......222555222........
                            ...2.22555555555222222..
                            ..22255555ffff55555222..
                            ..225555ff1111ff555552..
                            ..25555fb111111bf55522..
                            .22555fbd1111111f555522.
                            .25555fdd1111111df55552.
                            .25555fddd111111df555552
                            .25555fdddddd111df555552
                            225555fdddddd111df555552
                            225555fbddddddd1df557772
                            255555ffbbddbfd1df577777
                            2555555fcbbdcfddbf777777
                            2555555fffbddccffff75577
                            2555555ffffcfbbb1bcf5557
                            .55555ffffffffcd1b1f5552
                            .55ffffffffff55fdfdf5552
                            25555ffffff55555f5f55552
                            255555555555555555555552
                            255555555555555555555552
                            222555555555555555555522
                            ..222225555555552222222.
                            ......22222222222.......
                            `, img`
                            .........22222..........
                            ......22225552222.......
                            ......255555555522......
                            ..22222555555555522.....
                            ..2555555fffff5555522...
                            ..25555ffb1111ff555522..
                            ..2555fb1111111bf5555522
                            ..2555f111111111f5555552
                            .2255ffff1111111df555552
                            .255fb111c1dd111df555552
                            .255ffb1b1fdcf11bf555552
                            .2555ffbfbfb11111f555522
                            225555ffffcfdb1b1f55552.
                            2555555fcccfcfbfbf55552.
                            25555555ffffffffff55552.
                            225555555ffffff55555522.
                            .25555555ffffff5555552..
                            .2255f55fffffff5555552..
                            .2255fffffffff55555552..
                            .25555fffffff5555555522.
                            .2555555555555555555552.
                            .2222225555555555555552.
                            ......22222552222222522.
                            ..........2222......22..
                            `],
                            800,
                            true
                        )
                        animation.runImageAnimation(
                            Hero,
                            [img`
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ..................ccc...
                            .................cddc...
                            ................cddc....
                            ..............ccddc.....
                            .............ecddcff....
                            ............edcccf2eff..
                            ..........ffeddeefe2e2f.
                            .........f5244ed4ef2e22f
                            .........f5e4edd4ef2e2ff
                            ........ff4224dffef2efef
                            ........ff4224d1bffefeef
                            ........ff422e44ef2efeef
                            .........f422eed4f2feeef
                            ..........ffffe44f2feef.
                            .............feeefefeff.
                            ..............feffffff..
                            ...............fff......
                            `, img`
                            ........................
                            ..............fff.......
                            .............f2fffff....
                            ...........ff22eeeeeff..
                            ..........ff222eeeeeeff.
                            ..........feeeefffeeeef.
                            .........fe2222eeefffff.
                            .........f2efffff222efff
                            ..cc.....fffeeefffffffff
                            ..cdcc...fee44fbbe44efef
                            ..ccddcc..feddfbb4d4eef.
                            ....cdddceefddddd4eeef..
                            .....ccdcddee2222222f...
                            ......cccdd44e544444f...
                            .........eeeeffffffff...
                            .............ff...fff...
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            ........................
                            `],
                            800,
                            true
                        )
                        music.play(music.createSoundEffect(WaveShape.Noise, 3300, 1400, 255, 0, 400, SoundExpressionEffect.Tremolo, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
                        scene.cameraShake(4, 1000)
                        timer.after(800, function () {
                            BOSSSpeed_1.value = 0
                            BOSS1.setPosition(90, 135)
                            animation.runImageAnimation(
                                BOSS1,
                                [img`
                                ........22222...........
                                .......22555522.........
                                ......2255555522........
                                ....222555555552222.....
                                ....255555ffff55552.....
                                ...22555ff1111ff552.....
                                ...2555fb111111bf522....
                                ...2555fd1111111f552....
                                ...255fdd1111111df52....
                                ...255fddd111111df522...
                                ...255fdddddd111df552...
                                ...255fbddddbfd1df5522..
                                ...255fcbbbdcfddbf5552..
                                ..22555fcbb11111f55552..
                                ..255555fffff1b1f55552..
                                ..255555fb111cfbf55552..
                                ..255555ffb1b1ff555522..
                                ..2555f5fffbfbf555552...
                                ..2555ffffffff5555552...
                                ..25555fffff555555522...
                                ..225555555555555552....
                                ...2555555555555552.....
                                ...225555555555522......
                                .....222222222222.......
                                `, img`
                                ........22222...........
                                .......22555522.........
                                ......2255555522........
                                ...22225555555522222....
                                ..22555555ffff555552....
                                ..255555ff1111ff55522...
                                .225555fb111111bf55522..
                                .255555fd1111111f55552..
                                225555fdd1111111df55552.
                                255555fddd111111df555522
                                255555fdddddd111df555552
                                .25555fbddddbfd1df555552
                                .25555fcbbbdcfddbf555552
                                .225555fcbb11111f5555552
                                ..255555fffff1b1f5555552
                                ..255555fb111cfbf5555552
                                ..255555ffb1b1ff55555522
                                ..2555f5fffbfbf55555552.
                                ..2555ffffffff55555552..
                                ..25555fffff5555555522..
                                ..2555555555555555522...
                                ...25555555555555522....
                                ...2255555555555222.....
                                .....222222222222.......
                                `, img`
                                ........22222...........
                                .......22555522.2.......
                                ......225555552222......
                                .....2255555555252......
                                ..2..25555ffff55552.....
                                ..222555ff1111ff552.2...
                                ..22555fb111111bf5222...
                                ..22555fd1111111f5522...
                                ..2555fdd1111111df552...
                                ..2555fddd111111df552...
                                2.2555fdddddd111df552...
                                225555fbddddbfd1df5522..
                                225555fcbbbdcfddbf5552..
                                2555555fcbb11111f55552.2
                                25555555fffff1b1f55552.2
                                25555555fb111cfbf5555222
                                25555555ffb1b1ff55555222
                                .25555f5fffbfbf55555552.
                                .25555ffffffff555555552.
                                .255555fffff55555555552.
                                ..555555555555555555522.
                                ..22555555555555555222..
                                ...22555555555555222....
                                .....222222222222.......
                                `],
                                200,
                                true
                            )
                            animation.runImageAnimation(
                                Hero,
                                [img`
                                ........................
                                ..............ffffff....
                                .............f2feeeeff..
                                ............f222feeeeff.
                                .......cc...feeeeffeeef.
                                .......cdc.fe2222eeffff.
                                .......cddcf2effff222ef.
                                ........cddcffeeefffffff
                                .........cddce44fbe44eff
                                ..........cdceddf14d4eef
                                ..........cccdeddd4eeef.
                                ...........edd4e44eeff..
                                ............ee442222f...
                                .............f2e2222f...
                                .............f554444f...
                                ..............ffffff....
                                ................fff.....
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `, img`
                                ........................
                                ..............fff.......
                                .............f2fffff....
                                ...........ff22eeeeeff..
                                ..........ff222eeeeeeff.
                                ..........feeeefffeeeef.
                                .........fe2222eeefffff.
                                .........f2efffff222efff
                                ..cc.....fffeeefffffffff
                                ..cdcc...fee44fbbe44efef
                                ..ccddcc..feddfbb4d4eef.
                                ....cdddceefddddd4eeef..
                                .....ccdcddee2222222f...
                                ......cccdd44e544444f...
                                .........eeeeffffffff...
                                .............ff...fff...
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `],
                                350,
                                true
                            )
                        })
                    })
                }
            }
            if (BOSSHP_1.value <= 0) {
                controller.moveSprite(Hero, 100, 100)
                Battle = 0
                sprites.destroy(BOSS1, effects.fire, 500)
                DestoryStatue()
                sprites.destroy(BOSSHP_1, effects.none, 100)
                sprites.destroy(BOSSSpeed_1, effects.none, 100)
                timer.after(1100, function () {
                    tiles.setCurrentTilemap(tilemap`層級1`)
                    scaling.scaleToPercent(Hero, 100, ScaleDirection.Uniformly, ScaleAnchor.Middle)
                    tiles.placeOnTile(Hero, tiles.getTileLocation(14, 2))
                    scene.cameraFollowSprite(Hero)
                    Walk()
                    EXP += 500
                    game.splash("EXP +500")
                    if (EXP >= 800) {
                        game.splash("升級! 4 to 5", "習得'十字斬'")
                        game.splash("升級! 5 to 6", "治癒量 80 to 280")
                        game.splash("升級! 6 to 7", "HP 150 to 300")
                        game.splash("升級! 7 to 8", "傷害 +60")
                        Level = 8
                        RecoverValue = 280
                        HPvalue = 300
                        SPvalue += 60
                    }
                })
            }
        }
    }
    if (Scene == 2) {
        if (Battle == 0) {
            if (Hero.overlapsWith(treasure4)) {
                sprites.destroy(treasure4, effects.none, 100)
                game.splash("獲得生命之果")
                game.splash("請問要食用還是不食用?")
                blockMenu.showMenu(["食用", "不食用"], MenuStyle.List, MenuLocation.BottomHalf)
            }
            if (Hero.overlapsWith(treasure5)) {
                sprites.destroy(treasure5, effects.none, 100)
                game.splash("獲得魔力之泉")
                game.splash("請問是否要飲用?")
                blockMenu.showMenu(["飲用", "不飲用"], MenuStyle.List, MenuLocation.BottomHalf)
            }
            if (Hero.overlapsWith(treasure6)) {
                sprites.destroy(treasure6, effects.none, 100)
                TouchWeapon = "古劍龍泉"
                game.splash("獲得古劍龍泉")
                game.splash("請問要裝備還是要丟棄?")
                blockMenu.showMenu(["裝備", "丟棄"], MenuStyle.List, MenuLocation.BottomHalf)
            }
            if (Hero.overlapsWith(GodSword)) {
                sprites.destroy(GodSword, effects.none, 100)
                game.splash("得到神劍")
                game.showLongText("獲得神的祝福", DialogLayout.Bottom)
                game.showLongText("傷害 +500", DialogLayout.Bottom)
                game.showLongText("生命 +1000", DialogLayout.Bottom)
                Damage += 500
                HPvalue += 1000
                CurrentWeapon = "神劍"
            }
            if (Hero.overlapsWith(Juggernaut)) {
                Battle = 1
                CurrentEnemy = 5
                AssessBattle5()
            }
        }
        if (Battle == 1) {
            if (CurrentEnemy == 5) {
                if (HEROspeed.value >= 100) {
                    if (FireRistent == 0) {
                        timer.throttle("ChooseAction", 6000, function () {
                            animation.runImageAnimation(
                                Hero,
                                [img`
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ..............ccc.......
                                .............cddc.......
                                ............cddc........
                                ..........ccddc.........
                                .........ecddcff........
                                ........edcccf2eff......
                                ......ffeddeefe2e2f.....
                                .....f5244ed4ef2e22f....
                                .....f5e4edd4ef2e2ff....
                                ....ff4224dffef2efef....
                                ....ff4224d1bffefeef....
                                ....ff422e44ef2efeef....
                                .....f422eed4f2feeef....
                                ......ffffe44f2feef.....
                                ...222222feeefefeff222..
                                ..22444444feffffff444222
                                ..224445555fff5555544442
                                ...222444444444444444442
                                .....222222222222222222.
                                `, img`
                                ........................
                                ........................
                                ..............ccc.......
                                .............cddc.......
                                ............cddc........
                                ..........ccddc.........
                                .........ecddcff........
                                ........edcccf2eff......
                                ......ffeddeefe2e2f.....
                                .....f5244ed4ef2e22f....
                                .....f5e4edd4ef2e2ff....
                                ....ff4224dffef2efef....
                                ....ff4224d1bffefeef....
                                ....ff422e44ef2efeef....
                                .....f422eed4f2feeef..2.
                                ......ffffe44f2feef.221.
                                ..2.1.2.2feeefefeff11221
                                ..21122112feffffff22222.
                                ..222222221fff2121124212
                                ...22444441222212444442.
                                ...21455544444444455542.
                                ...21444555555555555442.
                                ....2224444444444444422.
                                ......222222222222222...
                                `, img`
                                ........................
                                ..............ccc.......
                                .............cddc.......
                                ............cddc........
                                ..........ccddc.........
                                .........ecddcff........
                                ........edcccf2eff......
                                ......ffeddeefe2e2f.2..2
                                .2...f5244ed4ef2e22f.222
                                ..2..f5e4edd4ef2e2ff.252
                                ..5.ff4224dffef2efef2452
                                ...2ff4224d1bffefeef2452
                                ..25ff422e44ef2efeef2442
                                ...22f422eed4f2feeef242.
                                ..2242ffffe44f2feef2242.
                                ..2244222feeefefeff2442.
                                ...2455442feffffff2442..
                                ...24555442fff22444442..
                                ...2451554422224455552..
                                ...2451155554444551154..
                                ..24451111155555511155..
                                ..245555555555555555542.
                                .24444444444444444444422
                                222222222222222222222222
                                `, img`
                                .............ccc........
                                ............cddc........
                                ...........cddc.........
                                .........ccddc..........
                                ........ecddcff.........
                                .......edcccf2eff.......
                                .....ffeddeefe2e2f......
                                ....f5244ed4ef2e22f.....
                                ....f5e4edd4ef2e2ff.....
                                ...ff4224dffef2efef.....
                                ...ff4224d1bffefeef.....
                                ...ff422e44ef2efeef.....
                                ....f422eed4f2feeef.....
                                .....ffffe44f2feef......
                                ........feeefefeff......
                                .........feffffff.......
                                ..........fff...........
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `, img`
                                ........................
                                ........................
                                ..............ccc.......
                                .............cddc.......
                                ............cddc........
                                ..........ccddc.........
                                .........ecddcff........
                                ........edcccf2eff......
                                ......ffeddeefe2e2f.....
                                .....f5244ed4ef2e22f....
                                .....f5e4edd4ef2e2ff....
                                ....ff4224dffef2efef....
                                ....ff4224d1bffefeef....
                                ....ff422e44ef2efeef....
                                .....f422eed4f2feeef....
                                ......ffffe44f2feef.....
                                .........feeefefeff.....
                                ..........feffffff......
                                ...........fff..........
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `, img`
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ..............ccc.......
                                .............cddc.......
                                ............cddc........
                                ..........ccddc.........
                                .........ecddcff........
                                ........edcccf2eff......
                                ......ffeddeefe2e2f.....
                                .....f5244ed4ef2e22f....
                                .....f5e4edd4ef2e2ff....
                                ....ff4224dffef2efef....
                                ....ff4224d1bffefeef....
                                ....ff422e44ef2efeef....
                                .....f422eed4f2feeef....
                                ......ffffe44f2feef.....
                                .........feeefefeff.....
                                ..........feffffff......
                                ...........fff..........
                                ........................
                                ........................
                                `, img`
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ..............ccc.......
                                .............cddc.......
                                ............cddc........
                                ..........ccddc.........
                                .........ecddcff........
                                ........edcccf2eff......
                                ......ffeddeefe2e2f.....
                                .....f5244ed4ef2e22f....
                                .....f5e4edd4ef2e2ff....
                                ....ff4224dffef2efef....
                                ....ff4224d1bffefeef....
                                ....ff422e44ef2efeef....
                                .....f422eed4f2feeef....
                                ......ffffe44f2feef.....
                                .........feeefefeff.....
                                ..........feffffff......
                                ...........fff..........
                                `],
                                250,
                                false
                            )
                            HP.value += -200
                            timer.after(300, function () {
                                animation.runImageAnimation(
                                    Hero,
                                    [img`
                                    ........................
                                    ..............ffffff....
                                    .............f2feeeeff..
                                    ............f222feeeeff.
                                    .......cc...feeeeffeeef.
                                    .......cdc.fe2222eeffff.
                                    .......cddcf2effff222ef.
                                    ........cddcffeeefffffff
                                    .........cddce44fbe44eff
                                    ..........cdceddf14d4eef
                                    ..........cccdeddd4eeef.
                                    ...........edd4e44eeff..
                                    ............ee442222f...
                                    .............f2e2222f...
                                    .............f554444f...
                                    ..............ffffff....
                                    ................fff.....
                                    ........................
                                    ........................
                                    ........................
                                    ........................
                                    ........................
                                    ........................
                                    ........................
                                    `, img`
                                    ........................
                                    ..............fff.......
                                    .............f2fffff....
                                    ...........ff22eeeeeff..
                                    ..........ff222eeeeeeff.
                                    ..........feeeefffeeeef.
                                    .........fe2222eeefffff.
                                    .........f2efffff222efff
                                    ..cc.....fffeeefffffffff
                                    ..cdcc...fee44fbbe44efef
                                    ..ccddcc..feddfbb4d4eef.
                                    ....cdddceefddddd4eeef..
                                    .....ccdcddee2222222f...
                                    ......cccdd44e544444f...
                                    .........eeeeffffffff...
                                    .............ff...fff...
                                    ........................
                                    ........................
                                    ........................
                                    ........................
                                    ........................
                                    ........................
                                    ........................
                                    ........................
                                    `],
                                    350,
                                    false
                                )
                            })
                            blockMenu.showMenu(["攻擊", "治癒", "十字斬"], MenuStyle.List, MenuLocation.BottomHalf)
                        })
                    } else {
                        timer.throttle("ChooseAction", 6000, function () {
                            blockMenu.showMenu(["攻擊", "治癒", "十字斬"], MenuStyle.List, MenuLocation.BottomHalf)
                        })
                    }
                }
                if (JuggernautHP.value > 0) {
                    HEROspeed.setStatusBarFlag(StatusBarFlag.SmoothTransition, false)
                    HEROspeed.value += 1.666
                    JuggernautSpeed.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
                    JuggernautSpeed.value += 1.42857143
                    if (JuggernautSpeed.value == 100) {
                        timer.throttle("JuggernautAction", 7000, function () {
                            JuggernautSkillName = textsprite.create("無極天光")
                            JuggernautSkillName.setOutline(5, 4)
                            JuggernautSkillName.setPosition(150, 110)
                            music.play(music.melodyPlayable(music.beamUp), music.PlaybackMode.InBackground)
                            FirstCUT = sprites.createProjectileFromSprite(img`
                                ................................
                                ................999999..........
                                ...............991111199........
                                ................9911111199......
                                .............66669911111119.....
                                ..............66666911111119....
                                ...............96669111111119...
                                ...............696691111111119..
                                ............666696669111111119..
                                .............666966691111111119.
                                ..............66996699111111119.
                                ..............669996691111111119
                                .............6666696669111111119
                                ................6996669111111119
                                .................996669911111119
                                ................6699666911111119
                                ...............66696666611111119
                                ..............666669966911111119
                                ...............66669666911111119
                                ...........666666669666911111119
                                ..............666699666911111119
                                ................6699966911111119
                                .............666666996691111119.
                                ................669966691111119.
                                ................66696666111119..
                                ...............666699699111119..
                                .................669991111119...
                                ................666699111119....
                                ...................99111119.....
                                ..................99111199......
                                .................9911199........
                                .................99999..........
                                `, Juggernaut, 200, 0)
                            scaling.scaleToPercent(FirstCUT, 300, ScaleDirection.Vertically, ScaleAnchor.Middle)
                            HP.value += -100
                            animation.runImageAnimation(
                                Juggernaut,
                                [img`
                                ......dddddd...........
                                .....dfffccfccc........
                                .....ffffffffefd.......
                                ...bfffffc3efefd.......
                                ...bfffffedde4ebb......
                                ...bcfffe3dde4e........
                                ...bffef3ef43e.........
                                ....fc4e44dc3e.........
                                ...dff4edddede.d.......
                                .ccffffe4dde4ec8c......
                                .fffffee444eeec88b.....
                                .cfff88ceeeeccc88b.....
                                .bff6696cc2ec8cc8b.....
                                dcd8689988e2bdbe8......
                                ...c889688c2bbfe8......
                                ....dc6888c2c88c8......
                                ...d1c88888cc88cfc.....
                                ...d11b888888ccbc8.....
                                ...d11dc888fcbddc88....
                                ..b111dc888cbd11c88....
                                ..b111f8688cdd1dc88....
                                ...d1df6688cdd1dc86b...
                                ...cdc86688c1d1bc66b...
                                ...bcc86888cdd1bc888...
                                ....c866888cb1dcc888...
                                ...b8966888cb1bc888b...
                                ....c896888cbd.f888c...
                                .....f88888....dc888...
                                .....c8888b............
                                ......8888b............
                                .......................
                                `, img`
                                ....efffffe.........
                                ...bfffffffff.......
                                ..cfffffcffcfd......
                                ..ffffffffffcf......
                                ..ffe4efe4efff......
                                ..ff43de3d4fffb.....
                                ..4fee444eef4.......
                                ..bf4ef3fe3f4.......
                                ..ef4dede13ffc......
                                ..ffe4433d4effd.....
                                .c8cfee4eeeeb8c.....
                                c866efbebeeb6998....
                                c866efceddec998cc...
                                1886becddddc9cccb...
                                1b88ecccecc68cb.d...
                                1dccecbdd8869cd.....
                                b1cc2ccccfc8ccd.....
                                d1cce86688e8fcd.....
                                ddc8cccccce8cecd..dd
                                1d88cccccbc88cecbdb.
                                db88cbbdddb86c...b..
                                dc68cd.dd.b868......
                                b888cd....df68d.....
                                c888cd...ddc86c.....
                                c68cb....ddcc68d....
                                c68cd....ddcc86c....
                                c68c......dccf68....
                                .88cd.....bccc86....
                                .d8ccddd.dc8888d....
                                ..dd....ddc8888d....
                                ..........d8bbb.....
                                `, img`
                                ..........................
                                .....fffccc...............
                                ....ffffffffff..........bd
                                ...ffffffefcff........ddd.
                                ..ffffffedeeefd.......ddd.
                                ..ffffffddd44e.....d8c4d4.
                                ..fffff444d4ee....db968...
                                ..ffcef44eceebd.dd1d68....
                                ...fe4f43bebebbd1111dd....
                                .dfffef4dd43eccd111d1b....
                                fffffc43ddcef88cdddddb....
                                ffffceeeeefeec88bbcbb.....
                                fff868ce22c88c88cccc......
                                ffb68668c2ec8cc8cbdb......
                                .c8889988c2d1cecbb........
                                ..dcc6688c2ccfccb.........
                                ...b88888c2c88ccb.........
                                ..ddc88888c88cc8c.........
                                .d..dc888888cbcc8.........
                                .b...c88888bb.dc8c........
                                .bd..c8888cdd.dc8c........
                                bbbdb88688cdd.dc88d.......
                                .bdbc86688c...bc66b.......
                                ..dd886688bd..cc68b.......
                                ....866888cd.dcc888.......
                                ...6666888cb.dc888c.......
                                ..d8968888cddbc888b.......
                                ...c868888bb..88888d......
                                .....88888.....8866.......
                                .....8888.................
                                .....898b.................
                                `],
                                800,
                                true
                            )
                            animation.runImageAnimation(
                                Hero,
                                [img`
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ..................ccc...
                                .................cddc...
                                ................cddc....
                                ..............ccddc.....
                                .............ecddcff....
                                ............edcccf2eff..
                                ..........ffeddeefe2e2f.
                                .........f5244ed4ef2e22f
                                .........f5e4edd4ef2e2ff
                                ........ff4224dffef2efef
                                ........ff4224d1bffefeef
                                ........ff422e44ef2efeef
                                .........f422eed4f2feeef
                                ..........ffffe44f2feef.
                                .............feeefefeff.
                                ..............feffffff..
                                ...............fff......
                                `, img`
                                ........................
                                ..............fff.......
                                .............f2fffff....
                                ...........ff22eeeeeff..
                                ..........ff222eeeeeeff.
                                ..........feeeefffeeeef.
                                .........fe2222eeefffff.
                                .........f2efffff222efff
                                ..cc.....fffeeefffffffff
                                ..cdcc...fee44fbbe44efef
                                ..ccddcc..feddfbb4d4eef.
                                ....cdddceefddddd4eeef..
                                .....ccdcddee2222222f...
                                ......cccdd44e544444f...
                                .........eeeeffffffff...
                                .............ff...fff...
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                ........................
                                `],
                                2000,
                                true
                            )
                            scene.cameraShake(2, 200)
                            timer.after(800, function () {
                                music.play(music.melodyPlayable(music.beamUp), music.PlaybackMode.InBackground)
                                SecondCUT = sprites.createProjectileFromSprite(img`
                                    ...........99999999999..........
                                    .........991111111111199........
                                    .......9911111111111111199......
                                    ......911111111111111111119.....
                                    .....91111111111111111111119....
                                    ....9111111111111111111111119...
                                    ...911111111111111111111111119..
                                    ...911111111111111111111111119..
                                    ..91111111111199699999996911119.
                                    ..91111111119996666666666911119.
                                    .9111111119966666666666666991119
                                    .9111111999666666966699669999119
                                    .9111999666666696999999999969919
                                    .911966666699999966699696666.999
                                    .919966666996996666666666666..99
                                    .9996669999966.66666666666.6....
                                    ..9.669666666...66666.6..6......
                                    ....66..66666....6.66.6.........
                                    ....6...66..6......6..6.........
                                    ........6..........6............
                                    ...................6............
                                    ................................
                                    ................................
                                    ................................
                                    ................................
                                    ................................
                                    ................................
                                    ................................
                                    ................................
                                    ................................
                                    ................................
                                    ................................
                                    `, Juggernaut, 200, 0)
                                scaling.scaleToPercent(SecondCUT, 300, ScaleDirection.Horizontally, ScaleAnchor.Middle)
                                HP.value += -100
                                animation.runImageAnimation(
                                    Juggernaut,
                                    [img`
                                    ......ddd........
                                    ..bffffffc.......
                                    ..ffffffffd......
                                    .ffffefffff......
                                    .ffffffffff......
                                    .efeecceefff.....
                                    .4e4d44d4ebed....
                                    .eee4dd4e4eff....
                                    .fe4fccf43fffc...
                                    .be4444b4eeffc...
                                    c8ce444be2eb6c...
                                    888efeef2eb868d..
                                    898efcbf2b8888b..
                                    88cef88ce88cbbd..
                                    c8eeb88ce8b11dd..
                                    cc2cb1bc2c111d...
                                    bceccccceb11db...
                                    c888888cc6b111dbd
                                    c888cccc4c8d1ddd.
                                    c688d1cddd8bcc...
                                    c688b1edd4cc88d..
                                    8888ceed4fc8866..
                                    6888cbbeedc866666
                                    88868cd1d1cc888..
                                    d8886c11dddc888..
                                    .d888cd1bcbdc88..
                                    ..8888cbb...888..
                                    ..8888bd....ddd..
                                    ..698d...........
                                    `, img`
                                    .....................
                                    ...cfffffbdd.........
                                    ..bfcfffffcfc........
                                    .cfffffeecfff........
                                    .ffffff3de4b.........
                                    .fcfff4dd3dd.........
                                    .ffffe4e434..........
                                    .ffeee44fee..........
                                    .ff44eddf3ed.........
                                    .fff4eddd3eb........d
                                    .fffe4dd4eec88bbddddb
                                    .c8ceeeeecec888c1111d
                                    b666ce2e888ec88cd11db
                                    8886b8c2288cf88dbddb.
                                    1c89688c2ddc28...bb..
                                    1b86888c2ccce8.......
                                    ddc8888c2888f8.......
                                    111c8888c888c8.......
                                    111c88888ccdc8c......
                                    111c88888db1dc8d.....
                                    111c8888c1d11c8b.....
                                    bddc6688b11ddc68.....
                                    bbb86688b111bc68f....
                                    ccc86688bd1dc8688....
                                    bc866888cd1dc8888....
                                    bb666888cd1bf8888....
                                    .8968888cdbc88888....
                                    .c866888ccccc8888b...
                                    .c88888cfffcfc886b...
                                    `],
                                    500,
                                    true
                                )
                                scene.cameraShake(2, 200)
                                timer.after(800, function () {
                                    animation.runImageAnimation(
                                        Juggernaut,
                                        [img`
                                        .dbbbbbddd..........
                                        dcffffffccb.........
                                        cfffffffffcd........
                                        fffffe4eefcd........
                                        ffffcdd44eb.........
                                        ffffb4dd4ed.........
                                        fcfc4ee4ee..........
                                        feee43ceee..........
                                        fe4eddebee..........
                                        ffeedddeecbb........
                                        fcee44eeecc8b.......
                                        f8ceeeecccc8c.......
                                        666cce2c88cccd......
                                        66668c2ebbeccdbbdd..
                                        c66688e4bcccb1111dd.
                                        bc6888eec88cbd111dd.
                                        dc8888cc88ccbdd11dd.
                                        1bc8888cccbccbddbd..
                                        1dc8888cbbdbcc......
                                        1dc8888cdd1bccd.....
                                        1b88888cd11bc8b.....
                                        db86668cd11bc8b.....
                                        bc86668cdd1bc86d....
                                        bc66668cbd1bc88b....
                                        b866688cbddcc88b....
                                        d666688cb1dc888b....
                                        d666688cddbc888c....
                                        d666888ccccc8886....
                                        1b8688ccccbbbbdd....
                                        1b888cddd...........
                                        `, img`
                                        .....................1111
                                        .....................1111
                                        ...ffffffccc........d1111
                                        ..ffefffffeff.......d1111
                                        bffffff4efcff.......d1111
                                        cfffffcdde4ef.......d1111
                                        cffffc4dd43ef......d1111.
                                        ccfcfbefed4eed.....d111..
                                        cff4eb4bf4feecd11dd111d..
                                        cff4edd1fdeeb1111111111..
                                        cfffe4ddd4eed1111111111..
                                        cffee44d4eeb91111111111..
                                        dfc8eeeeecbd111111111111.
                                        .c666cc2ec6911111111111d.
                                        .666688c2eb111111111111d.
                                        d8896888241111111111111d.
                                        .bc668882e8911111111111..
                                        .dd88888cc861111111111d..
                                        d11b888888cb111111111d1..
                                        d11d88888cbd1d111111d1...
                                        d11d88888c1d1b6bdbdb.....
                                        b11b86868b11dbc8.........
                                        bddf66668c11dbc8.........
                                        bbdf66668c111bc64........
                                        .bb866666c111bc884.......
                                        .cc666668cd11bc88c.......
                                        .dc666668bd11b888c.......
                                        ..896666ddbdbc888........
                                        .ec86668.....b888b.......
                                        .ccc866d......4dd4.......
                                        ..f888...................
                                        ...ddd...................
                                        `],
                                        500,
                                        true
                                    )
                                    timer.after(800, function () {
                                        music.play(music.melodyPlayable(music.beamUp), music.PlaybackMode.InBackground)
                                        ThirdCUT = sprites.createProjectileFromSprite(img`
                                            88888888888888888888888888888888
                                            88888888888888888888888888888888
                                            88888888888888888888888888888888
                                            66666666666666666666666666666666
                                            66666666666666666666666666666666
                                            66666666666666666666666666666666
                                            99999999999999999999999999999999
                                            99999999999999999999999999999999
                                            99999999999999999999999999999999
                                            11111111111111111111111111111111
                                            11111111555111111555111111111111
                                            11111111111111111111111111115511
                                            11555111111111111111111111111111
                                            11111111111555111111115551111111
                                            11111111111111111111111111111111
                                            11111111111111111111111111111111
                                            11111111111111111111111111111111
                                            11111115551111111111111111111111
                                            11111111111111111115551111111111
                                            11111111111111111111111111111551
                                            11551111111111111111111111111111
                                            11111111555111111115551111111111
                                            11111111111111111111111111111111
                                            99999999999999999999999999999999
                                            99999999999999999999999999999999
                                            99999999999999999999999999999999
                                            66666666666666666666666666666666
                                            66666666666666666666666666666666
                                            66666666666666666666666666666666
                                            88888888888888888888888888888888
                                            88888888888888888888888888888888
                                            88888888888888888888888888888888
                                            `, Juggernaut, 150, 0)
                                        scaling.scaleToPercent(ThirdCUT, 400, ScaleDirection.Uniformly, ScaleAnchor.Middle)
                                        animation.runImageAnimation(
                                            Juggernaut,
                                            [img`
                                            ...........dffffffccc.............
                                            ...........ffefffffefb............
                                            .........dffffff4eccfc............
                                            .........cfffffedde4.c............
                                            .........cffffc3dd43..............
                                            .........cffcf3ef4dd..............
                                            .........cfc4e444f4...............
                                            .........cfc4edddcdd..............
                                            ........d88fee4ddd3e..............
                                            .......b888cce43deee68c...........
                                            .......b888ccceeeeeb6666..........
                                            ........b96cf8bc2c899666d.........
                                            ........b882c88cc8699b8cbbd.......
                                            .......ddccecc8cc8898b1111ccb.....
                                            ......dd882fcdbc2888b1111b66b.....
                                            ......bc68c88c8c288c.d11d86c4ddd..
                                            ......c688cc886ce68c..d1db8eee44..
                                            .....c8888cbdbccc68c...dbdddeeeeee
                                            ...d888868cd1d1b8668b.......bee..b
                                            ...c88668cbd1d1bc868b.............
                                            ..c666668cd11d1c68888.............
                                            .b8866688cd11ddc66888.............
                                            f8888888ccd111bc86888.............
                                            888888cdddbdddc8888bb.............
                                            888ffc........88888...............
                                            fd.............8868c..............
                                            ...............b888c..............
                                            ..................................
                                            `, img`
                                            ..dffffffbbd..........
                                            .dcffffffffcd.........
                                            dcfffffeffffd.........
                                            cfffffed4eecd.........
                                            cffffc4dd44b..........
                                            cffff44ed4ed..........
                                            cfcec44ee4ed..........
                                            cfe4eddeeded..........
                                            bffee4dd44ebd.........
                                            dcfee4ddeeeccd........
                                            dccceeeefecc8cd.......
                                            1d66cee2c88cc8d.......
                                            db6668c2ec8cccb.......
                                            c686688c2bbccccbdddb..
                                            cbc6688c2cccccee44bbdd
                                            1dc8888c2c88ccee4ebbce
                                            11dc8888c8cccccebbdddb
                                            d11c88888ccbbcccbdd...
                                            d11b88888bd1dccd......
                                            d11c88888b111c8b......
                                            d1dc86688b1d1c8c......
                                            bdb866668b11dc6cd.....
                                            bbc866668b11dc68d.....
                                            dbd666668bd1dc88c.....
                                            ..d666668bd1dc88c.....
                                            ..b6666bdbddbc88b.....
                                            .dc6666d..ddbc886d....
                                            .bc8666......bbbb.....
                                            .bc88bd...............
                                            ..d6bb................
                                            `, img`
                                            ....................
                                            ..dbbbebbd..........
                                            ..cffffffcccbd......
                                            .dffffffffffe4d.....
                                            dcfffffeecece44d....
                                            bfffffcdde4eee4bd...
                                            bffffc4dd44eecec8d..
                                            bffffeeeed4eccc88d..
                                            dcfeee4beeeeebccbd..
                                            dcfeeeddb3eecddd11d.
                                            bfffe4dddeefccd11dd.
                                            bffcee44eeef88cddd..
                                            ffccceeeecccc8cdd...
                                            fc666cc22c8cc8c.....
                                            f666668c2ebbecb.....
                                            c8866888e4bcecb.....
                                            dccc888ceec88cb.....
                                            dbdc8888cc88ccc.....
                                            dd1bc888888cbccd....
                                            d11dc8888cbbdbcb....
                                            111dc8888cdd1bcc....
                                            d11b88888cd1ddc8d...
                                            d11b86668cd1ddc8b...
                                            bbdc86668cd11bc8c...
                                            dcbc66668cdd1bc88b..
                                            dcc866688cbddcc88c..
                                            .cc866688cd1dc888b..
                                            .cc666688cddbc888b..
                                            ..bc66688d...b888b..
                                            ..dc8688b.....dbbd..
                                            ...c888b............
                                            ...dddbd............
                                            `, img`
                                            .....dcffffffccb.......
                                            ....bcffffffffffd......
                                            ...dcfffffe4ecefd......
                                            ...dffffffbdde4eb......
                                            ...dcffffe4dd44bb......
                                            ...dcffcc4eee4ed.......
                                            ....bfeee44ee4ed.......
                                            ....bfe4eddbeded.......
                                            ....cffee3dde4ebbd.....
                                            ...dcffee444eeec8bd....
                                            ...bef8ceeeefccc88d....
                                            ...dc666cce2e88cc8b....
                                            ...d666668ce2bbcccc....
                                            ...d8686688c2bbccccb...
                                            ....b888888c2c88fcccbd.
                                            ....dbb8888cec8ccce4ed.
                                            ....d1dc8888c8cbcccee4d
                                            ...dd1dc88888cbdbccce41
                                            ...dd11b88888bd1dcccebd
                                            ...dd1dc88888bd1dccccbd
                                            ...dd1dc66668b111bc8cb.
                                            ...dd1b866668b111dc8cd.
                                            ...dbbc866668b111dcc8d.
                                            .....db666668bd11dcc8b.
                                            ......d666668bd11dcc8b.
                                            ......d666888bdddcc88b.
                                            ......d66688bbbbbc886d.
                                            ......d86666d....dddd..
                                            ......d88888d..........
                                            `, img`
                                            .....dcffffffccb.......
                                            ....bcffffffffffd......
                                            ...dcfffffe4ecefd......
                                            ...dffffffbdde4eb......
                                            ...dcffffe4dd44bb......
                                            ...dcffcc4eee4ed.......
                                            ....bfeee44ee4ed.......
                                            ....bfe4eddbeded.......
                                            ....cffee3dde4ebbd.....
                                            ...dcffee444eeec8bd....
                                            ...bef8ceeeefccc88d....
                                            ...dc666cce2e88cc8b....
                                            ...d666668ce2bbcccc....
                                            ...d8686688c2bbccccb...
                                            ....b888888c2c88fcccbd.
                                            ....dbb8888cec8ccce4ed.
                                            ....d1dc8888c8cbcccee4d
                                            ...dd1dc88888cbdbccce41
                                            ...dd11b88888bd1dcccebd
                                            ...dd1dc88888bd1dccccbd
                                            ...dd1dc66668b111bc8cb.
                                            ...dd1b866668b111dc8cd.
                                            ...dbbc866668b111dcc8d.
                                            .....db666668bd11dcc8b.
                                            ......d666668bd11dcc8b.
                                            ......d666888bdddcc88b.
                                            ......d66688bbbbbc886d.
                                            ......d86666d....dddd..
                                            ......d88888d..........
                                            `],
                                            800,
                                            true
                                        )
                                        HP.value += -200
                                        scene.cameraShake(2, 200)
                                    })
                                })
                                timer.after(2500, function () {
                                    sprites.destroy(JuggernautSkillName, effects.none, 100)
                                    JuggernautSpeed.value = 0
                                    animation.runImageAnimation(
                                        Juggernaut,
                                        [img`
                                        ........................
                                        .........bffffffdd......
                                        ........ffcffffffef.....
                                        .......dffffffeffff.....
                                        .......ffffff3d4eff.....
                                        .d.....fffffeddd3d......
                                        db.....fffff4eed4.......
                                        dccc...ffeef44fee.......
                                        ee86c..ffe4fddc4bd......
                                        e2c66fffffefddd44e......
                                        e21bccffccfe4d4fefc.....
                                        e21dcc8688e22eefc88c....
                                        e21bc696668c22ecfc8c....
                                        .2b.c8889968e2e8c28c....
                                        .db..cccb988c2e8ce8.....
                                        .....dbc8888824bbe8.....
                                        .....b1b88888e4dccb.....
                                        ....d111c88888cf88b.....
                                        ....b111c88888f888b.....
                                        ...d1111c8888888c88.....
                                        ...d111b88888fcccf8.....
                                        ..b1111c66868bddbf8.....
                                        ..d111b89669fb11bc8.....
                                        ..b111c69869fb111b8c....
                                        ..bd1b8666c9fbd11bfc....
                                        ..bdbc6686968bd11dcc....
                                        ..dbc66686968bbddbcc....
                                        ...bf9688698bbbbdccc....
                                        ....c8996996bbbccc88b...
                                        .....c888668bddcc888d...
                                        .....d88888c............
                                        ........................
                                        `, img`
                                        ..........dddddd......
                                        .........efffccfffc...
                                        ........bffffffffef...
                                        .......cfcfffe3efff...
                                        .......ffffffbddeef...
                                        .d.....fcfffe3ddee....
                                        .4b....fffef4ee43e....
                                        dc68b..ffe4f44be4e....
                                        dec98ddffe4fdddede....
                                        d2ec6ffffffe3dde4fd...
                                        de2efcff88e2444fec8d..
                                        de2.cc8666ce22ccfc88..
                                        .e4.b8968968c2ebfec8..
                                        ....bc886968c22882cb..
                                        .....bcc89888e288ec...
                                        .....ddc88888e4bbef...
                                        ....d11dc8888cedcfc...
                                        ....d111bc8888f888c...
                                        ....d111bc8888f8888d..
                                        ...d1111c88888f8cf8d..
                                        ...d111b86888fcbcc8d..
                                        ..b1111f66668bddbc8b..
                                        ..d111b866698b11db88..
                                        ..dd11c666698b1d1b88..
                                        ..dddb8968698b1b1df8..
                                        ...bb86966668b1bd1b8..
                                        .....86686968d1bb1bce.
                                        .....b9666968bdbbbc8cd
                                        .....b8669968bbccc88ff
                                        ......888888b..bfff8..
                                        ......b6b..........f..
                                        ......................
                                        `],
                                        200,
                                        true
                                    )
                                    animation.runImageAnimation(
                                        Hero,
                                        [img`
                                        ........................
                                        ..............ffffff....
                                        .............f2feeeeff..
                                        ............f222feeeeff.
                                        .......cc...feeeeffeeef.
                                        .......cdc.fe2222eeffff.
                                        .......cddcf2effff222ef.
                                        ........cddcffeeefffffff
                                        .........cddce44fbe44eff
                                        ..........cdceddf14d4eef
                                        ..........cccdeddd4eeef.
                                        ...........edd4e44eeff..
                                        ............ee442222f...
                                        .............f2e2222f...
                                        .............f554444f...
                                        ..............ffffff....
                                        ................fff.....
                                        ........................
                                        ........................
                                        ........................
                                        ........................
                                        ........................
                                        ........................
                                        ........................
                                        `, img`
                                        ........................
                                        ..............fff.......
                                        .............f2fffff....
                                        ...........ff22eeeeeff..
                                        ..........ff222eeeeeeff.
                                        ..........feeeefffeeeef.
                                        .........fe2222eeefffff.
                                        .........f2efffff222efff
                                        ..cc.....fffeeefffffffff
                                        ..cdcc...fee44fbbe44efef
                                        ..ccddcc..feddfbb4d4eef.
                                        ....cdddceefddddd4eeef..
                                        .....ccdcddee2222222f...
                                        ......cccdd44e544444f...
                                        .........eeeeffffffff...
                                        .............ff...fff...
                                        ........................
                                        ........................
                                        ........................
                                        ........................
                                        ........................
                                        ........................
                                        ........................
                                        ........................
                                        `],
                                        350,
                                        true
                                    )
                                })
                            })
                        })
                    }
                }
                if (JuggernautHP.value <= 0) {
                    controller.moveSprite(Hero, 100, 100)
                    Battle = 0
                    sprites.destroy(Juggernaut, effects.fire, 500)
                    DestoryStatue()
                    sprites.destroy(JuggernautHP, effects.none, 100)
                    sprites.destroy(JuggernautSpeed, effects.none, 100)
                    timer.after(1100, function () {
                        tiles.setCurrentTilemap(tilemap`層級10`)
                        scaling.scaleToPercent(Hero, 100, ScaleDirection.Uniformly, ScaleAnchor.Middle)
                        tiles.placeOnTile(Hero, tiles.getTileLocation(3, 1))
                        scene.cameraFollowSprite(Hero)
                        tiles.placeOnTile(treasure5, tiles.getTileLocation(10, 6))
                        Walk()
                        EXP += 1200
                        game.splash("EXP +1200")
                        if (EXP >= 2000) {
                            game.splash("升級! 8 to 9", "SP +40")
                            game.splash("升級! 9 to 10", "HP +300")
                            game.splash("升級! 10 to 11", "傷害 +100")
                            game.splash("升級! 11 to 12", "治癒量 280 to 480")
                            game.splash("升級! 12 to 13", "SP +60")
                            game.splash("升級! 13 to 14", "HP +500")
                            game.splash("升級! 14 to 15", "傷害+120")
                            game.splash("升級! 15 to 16", "治癒量 480 to 700")
                            game.splash("升級! 16 to 17", "SP +60")
                            game.splash("升級! 17 to 18", "HP +600")
                            game.splash("升級! 18 to 19", "傷害 +150")
                            game.splash("升級! 19 to 20", "習得'血刃之咒'")
                            Level += 12
                            HPvalue += 1500
                            RecoverValue += 420
                            Damage += 370
                            SPvalue += 100
                        }
                    })
                }
            }
        }
    }
})

